<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eventor - Discover & Book Events</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#f0f0fe',
                            100: '#e0e0fd',
                            200: '#c2c1fa',
                            300: '#a3a2f7',
                            400: '#8483f4',
                            500: '#6665f1',
                            600: '#5D5CDE', // Primary color
                            700: '#4a49a0',
                            800: '#373683',
                            900: '#252466',
                        },
                        dark: {
                            bg: '#181818',
                            card: '#282828',
                            border: '#333333',
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                    animation: {
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    }
                }
            }
        }
    </script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Flatpickr - Date Picker -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <!-- Custom styles -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

        html {
            scroll-behavior: smooth;
        }

        /* Animations and transitions */
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .slide-in {
            animation: slideIn 0.5s ease-in-out;
        }

        @keyframes slideIn {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .slide-in-right {
            animation: slideInRight 0.3s ease-in-out;
        }

        @keyframes slideInRight {
            from { transform: translateX(30px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .slide-in-left {
            animation: slideInLeft 0.3s ease-in-out;
        }

        @keyframes slideInLeft {
            from { transform: translateX(-30px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        /* Category card hover effect */
        .category-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .category-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        /* Card hover effects */
        .event-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .event-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        /* Button hover effects */
        .btn-primary {
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        /* Loading animation */
        .loader {
            border: 3px solid #f3f3f3;
            border-radius: 50%;
            border-top: 3px solid #5D5CDE;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Modal animation */
        .modal {
            animation: modalFadeIn 0.3s ease-out;
        }

        @keyframes modalFadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        .dark ::-webkit-scrollbar-track {
            background: #333;
        }

        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #5D5CDE;
        }

        /* Filter button transitions */
        .filter-btn {
            transition: background-color 0.3s ease, color 0.3s ease, transform 0.2s ease;
        }

        .filter-btn:active {
            transform: scale(0.95);
        }

        /* Form input focus effects */
        .form-input:focus {
            box-shadow: 0 0 0 3px rgba(93, 92, 222, 0.3);
        }

        /* Dark mode toggle styles */
        .toggle {
            transition: background-color 0.3s ease;
        }

        .toggle-circle {
            transition: transform 0.3s ease;
        }

        /* Bottom loader indicator */
        .bottom-loader {
            transform: translateY(20px);
            animation: bottomLoader 1.5s infinite;
        }

        @keyframes bottomLoader {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        /* Skeleton loading effect */
        .skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
            border-radius: 0.375rem;
        }

        .dark .skeleton {
            background: linear-gradient(90deg, #333 25%, #3a3a3a 50%, #333 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
        }

        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }

        /* Calendar styles */
        .calendar-day {
            transition: background-color 0.2s ease, color 0.2s ease, transform 0.1s ease;
        }
        
        .calendar-day:hover:not(.empty):not(.selected) {
            background-color: #f7f7f7;
            cursor: pointer;
        }
        
        .dark .calendar-day:hover:not(.empty):not(.selected) {
            background-color: #2c2c2c;
        }
        
        .calendar-day.selected {
            background-color: #5D5CDE;
            color: white;
        }
        
        .calendar-day.has-events:not(.selected) {
            position: relative;
        }
        
        .calendar-day.has-events:not(.selected)::after {
            content: '';
            position: absolute;
            bottom: 4px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 4px;
            border-radius: 50%;
            background-color: #5D5CDE;
        }
        
        .dark .calendar-day.has-events:not(.selected)::after {
            background-color: #8483f4;
        }

        /* Tooltip styles */
        .tooltip {
            position: relative;
        }

        .tooltip .tooltip-text {
            visibility: hidden;
            min-width: 120px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.75rem;
        }

        .dark .tooltip .tooltip-text {
            background-color: #555;
        }

        .tooltip .tooltip-text::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #333 transparent transparent transparent;
        }

        .dark .tooltip .tooltip-text::after {
            border-color: #555 transparent transparent transparent;
        }

        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }

        /* Price range slider */
        .range-slider {
            width: 100%;
            display: flex;
            flex-direction: column;
        }

        .range-slider input[type="range"] {
            -webkit-appearance: none;
            width: 100%;
            height: 5px;
            border-radius: 5px;
            background: #d3d3d3;
            outline: none;
        }

        .dark .range-slider input[type="range"] {
            background: #555;
        }

        .range-slider input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #5D5CDE;
            cursor: pointer;
        }

        .range-slider input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #5D5CDE;
            cursor: pointer;
            border: none;
        }

        /* Date picker customization */
        .flatpickr-calendar {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06) !important;
            border-radius: 0.5rem !important;
        }

        .dark .flatpickr-calendar {
            background: #282828 !important;
            border-color: #333 !important;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2) !important;
        }

        .dark .flatpickr-month,
        .dark .flatpickr-weekdays,
        .dark .flatpickr-weekday,
        .dark .flatpickr-day {
            background: transparent !important;
            color: #ddd !important;
        }

        .dark .flatpickr-day.selected,
        .dark .flatpickr-day.startRange,
        .dark .flatpickr-day.endRange {
            background: #5D5CDE !important;
            color: white !important;
            border-color: #5D5CDE !important;
        }

        /* Ticket quantity selector */
        .ticket-quantity-btn {
            transition: all 0.2s ease;
        }

        .ticket-quantity-btn:active {
            transform: scale(0.95);
        }

        /* Ribbon effect */
        .ribbon {
            position: absolute;
            top: 0;
            right: 0;
            width: 150px;
            height: 30px;
            background-color: #e53e3e;
            color: white;
            text-align: center;
            line-height: 30px;
            font-weight: bold;
            transform: rotate(45deg) translateX(50px) translateY(-10px);
            transform-origin: top right;
            z-index: 1;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        /* Featured indicator */
        .featured-badge {
            background-color: #5D5CDE;
            color: white;
            border-radius: 9999px;
            position: absolute;
            top: -10px;
            right: 20px;
            padding: 2px 10px;
            font-size: 0.75rem;
            font-weight: bold;
            z-index: 1;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body class="font-sans antialiased bg-white dark:bg-dark-bg text-gray-900 dark:text-gray-100 transition-colors duration-300">
    <!-- Backdrop for modals -->
    <div id="modal-backdrop" class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden transition-opacity duration-300"></div>

    <!-- Header -->
    <header class="sticky top-0 z-30 bg-white dark:bg-dark-bg shadow-sm">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center py-4">
                <!-- Logo -->
                <a href="#" class="flex items-center text-2xl font-bold text-primary-600">
                    <i class="fas fa-ticket-alt mr-2 transform -rotate-45"></i>
                    <span>Eventor</span>
                </a>

                <!-- Mobile Menu Toggle -->
                <button id="menu-toggle" class="md:hidden focus:outline-none" aria-label="Toggle menu">
                    <i class="fas fa-bars text-gray-700 dark:text-gray-300"></i>
                </button>

                <!-- Desktop Navigation -->
                <nav class="hidden md:flex space-x-8">
                    <a href="#home" class="nav-link text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 font-medium transition-colors duration-300">Home</a>
                    <a href="#events" class="nav-link text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 font-medium transition-colors duration-300">Events</a>
                    <a href="#venues" class="nav-link text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 font-medium transition-colors duration-300">Venues</a>
                    <a href="#categories" class="nav-link text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 font-medium transition-colors duration-300">Categories</a>
                    <a href="#about" class="nav-link text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 font-medium transition-colors duration-300">About</a>
                </nav>

                <!-- Right side actions -->
                <div class="flex items-center space-x-4">
                    <!-- Favorites button -->
                    <button id="favorites-btn" class="relative p-2 text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 focus:outline-none transition-colors duration-300" aria-label="Favorites">
                        <i class="fas fa-heart"></i>
                        <span id="favorites-count" class="absolute -top-1 -right-1 bg-primary-600 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center">0</span>
                    </button>

                    <!-- Dark mode toggle -->
                    <button id="dark-mode-toggle" class="p-1 rounded-full focus:outline-none" aria-label="Toggle dark mode">
                        <div class="toggle w-12 h-6 rounded-full bg-gray-300 dark:bg-gray-600 flex items-center p-1">
                            <div class="toggle-circle w-4 h-4 bg-white rounded-full transform dark:translate-x-6"></div>
                        </div>
                    </button>

                    <!-- Sign In Button -->
                    <button id="sign-in-btn" class="hidden md:block px-5 py-2 bg-primary-600 text-white font-medium rounded-lg shadow-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-opacity-50 transition-colors duration-300">
                        Sign In
                    </button>
                </div>
            </div>

            <!-- Mobile Navigation -->
            <nav id="mobile-menu" class="md:hidden pb-4 hidden">
                <div class="flex flex-col space-y-4">
                    <a href="#home" class="nav-link text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 font-medium transition-colors duration-300">Home</a>
                    <a href="#events" class="nav-link text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 font-medium transition-colors duration-300">Events</a>
                    <a href="#venues" class="nav-link text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 font-medium transition-colors duration-300">Venues</a>
                    <a href="#categories" class="nav-link text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 font-medium transition-colors duration-300">Categories</a>
                    <a href="#about" class="nav-link text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 font-medium transition-colors duration-300">About</a>
                    <a href="#" class="text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 font-medium transition-colors duration-300">Sign In</a>
                </div>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main id="page-content">
        <!-- Hero Section -->
        <section id="home" class="relative py-20 md:py-32 bg-gradient-to-br from-primary-50 to-indigo-50 dark:from-gray-900 dark:to-dark-bg overflow-hidden">
            <div class="container mx-auto px-4 relative z-10">
                <div class="max-w-3xl mx-auto text-center">
                    <h1 class="text-4xl md:text-5xl font-bold mb-6 leading-tight slide-in">Discover Events That Inspire You</h1>
                    <p class="text-lg md:text-xl text-gray-700 dark:text-gray-300 mb-8 slide-in">Find and book tickets for concerts, festivals, workshops, and more happening around you. Start your journey today!</p>
                    <div class="flex flex-col sm:flex-row justify-center gap-4 slide-in">
                        <a href="#events" class="btn-primary inline-block px-8 py-3 bg-primary-600 text-white font-medium rounded-lg shadow-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-opacity-50 transition-all duration-300">
                            Explore Events
                        </a>
                        <button id="open-calendar-btn" class="px-8 py-3 bg-white dark:bg-dark-card text-primary-600 dark:text-primary-400 font-medium rounded-lg shadow-md hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-opacity-50 transition-all duration-300">
                            <i class="far fa-calendar-alt mr-2"></i> View Calendar
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Background decoration -->
            <div class="absolute top-0 right-0 w-40 h-40 bg-primary-400 opacity-10 rounded-full -mt-20 -mr-20"></div>
            <div class="absolute bottom-0 left-0 w-64 h-64 bg-indigo-400 opacity-10 rounded-full -mb-32 -ml-32"></div>
            
            <!-- Animated shapes -->
            <div class="hidden md:block absolute top-1/4 left-10 w-16 h-16 bg-yellow-400 opacity-20 rounded-full animate-pulse"></div>
            <div class="hidden md:block absolute bottom-1/4 right-10 w-24 h-24 bg-green-400 opacity-20 rounded-full animate-pulse-slow"></div>
        </section>

        <!-- How It Works -->
        <section class="py-16 bg-white dark:bg-dark-bg">
            <div class="container mx-auto px-4">
                <h2 class="text-3xl font-bold text-center mb-12">How It Works</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <!-- Step 1 -->
                    <div class="bg-gray-50 dark:bg-dark-card rounded-xl p-6 text-center hover:shadow-lg transition-shadow duration-300">
                        <div class="w-16 h-16 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center mx-auto mb-6">
                            <i class="fas fa-search text-2xl text-primary-600 dark:text-primary-400"></i>
                        </div>
                        <h3 class="text-xl font-semibold mb-3">Discover</h3>
                        <p class="text-gray-600 dark:text-gray-400">Find events that match your interests and schedule across various categories.</p>
                    </div>
                    
                    <!-- Step 2 -->
                    <div class="bg-gray-50 dark:bg-dark-card rounded-xl p-6 text-center hover:shadow-lg transition-shadow duration-300">
                        <div class="w-16 h-16 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center mx-auto mb-6">
                            <i class="fas fa-ticket-alt text-2xl text-primary-600 dark:text-primary-400"></i>
                        </div>
                        <h3 class="text-xl font-semibold mb-3">Book</h3>
                        <p class="text-gray-600 dark:text-gray-400">Secure your tickets easily with our simple, secure booking process.</p>
                    </div>
                    
                    <!-- Step 3 -->
                    <div class="bg-gray-50 dark:bg-dark-card rounded-xl p-6 text-center hover:shadow-lg transition-shadow duration-300">
                        <div class="w-16 h-16 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center mx-auto mb-6">
                            <i class="fas fa-star text-2xl text-primary-600 dark:text-primary-400"></i>
                        </div>
                        <h3 class="text-xl font-semibold mb-3">Enjoy</h3>
                        <p class="text-gray-600 dark:text-gray-400">Experience amazing events and create memories that last a lifetime.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Featured Events -->
        <section id="featured-events" class="py-16 bg-gray-50 dark:bg-dark-bg border-t border-gray-200 dark:border-dark-border">
            <div class="container mx-auto px-4">
                <div class="flex justify-between items-center mb-12">
                    <h2 class="text-3xl font-bold">Featured Events</h2>
                    <a href="#events" class="text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 font-medium flex items-center transition-colors duration-300">
                        View All
                        <i class="fas fa-arrow-right ml-2"></i>
                    </a>
                </div>
                
                <div id="featured-events-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <!-- Skeleton loaders -->
                    <div class="skeleton-card bg-white dark:bg-dark-card rounded-lg overflow-hidden shadow-sm">
                        <div class="h-48 skeleton"></div>
                        <div class="p-4">
                            <div class="skeleton h-4 w-16 mb-2"></div>
                            <div class="skeleton h-6 w-3/4 mb-4"></div>
                            <div class="skeleton h-4 w-1/2 mb-4"></div>
                            <div class="skeleton h-4 w-1/3 mb-4"></div>
                            <div class="flex justify-between items-center">
                                <div class="skeleton h-5 w-16"></div>
                                <div class="skeleton h-8 w-24"></div>
                            </div>
                        </div>
                    </div>
                    <div class="skeleton-card bg-white dark:bg-dark-card rounded-lg overflow-hidden shadow-sm">
                        <div class="h-48 skeleton"></div>
                        <div class="p-4">
                            <div class="skeleton h-4 w-16 mb-2"></div>
                            <div class="skeleton h-6 w-3/4 mb-4"></div>
                            <div class="skeleton h-4 w-1/2 mb-4"></div>
                            <div class="skeleton h-4 w-1/3 mb-4"></div>
                            <div class="flex justify-between items-center">
                                <div class="skeleton h-5 w-16"></div>
                                <div class="skeleton h-8 w-24"></div>
                            </div>
                        </div>
                    </div>
                    <div class="skeleton-card bg-white dark:bg-dark-card rounded-lg overflow-hidden shadow-sm hidden sm:block">
                        <div class="h-48 skeleton"></div>
                        <div class="p-4">
                            <div class="skeleton h-4 w-16 mb-2"></div>
                            <div class="skeleton h-6 w-3/4 mb-4"></div>
                            <div class="skeleton h-4 w-1/2 mb-4"></div>
                            <div class="skeleton h-4 w-1/3 mb-4"></div>
                            <div class="flex justify-between items-center">
                                <div class="skeleton h-5 w-16"></div>
                                <div class="skeleton h-8 w-24"></div>
                            </div>
                        </div>
                    </div>
                    <div class="skeleton-card bg-white dark:bg-dark-card rounded-lg overflow-hidden shadow-sm hidden lg:block">
                        <div class="h-48 skeleton"></div>
                        <div class="p-4">
                            <div class="skeleton h-4 w-16 mb-2"></div>
                            <div class="skeleton h-6 w-3/4 mb-4"></div>
                            <div class="skeleton h-4 w-1/2 mb-4"></div>
                            <div class="skeleton h-4 w-1/3 mb-4"></div>
                            <div class="flex justify-between items-center">
                                <div class="skeleton h-5 w-16"></div>
                                <div class="skeleton h-8 w-24"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Recently Viewed Events -->
        <section id="recent-events" class="py-16 bg-white dark:bg-dark-bg border-t border-gray-200 dark:border-dark-border">
            <div class="container mx-auto px-4">
                <div class="flex justify-between items-center mb-12">
                    <h2 class="text-3xl font-bold">Recently Viewed</h2>
                    <button id="clear-recent" class="text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200 font-medium flex items-center transition-colors duration-300">
                        <i class="fas fa-trash-alt mr-2"></i>
                        Clear All
                    </button>
                </div>
                
                <div id="recent-events-container" class="relative">
                    <!-- Empty state message -->
                    <div id="recent-empty-state" class="bg-gray-50 dark:bg-dark-card p-8 rounded-lg text-center">
                        <div class="w-16 h-16 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-history text-gray-400 dark:text-gray-500 text-2xl"></i>
                        </div>
                        <h3 class="text-xl font-semibold mb-2">No Recently Viewed Events</h3>
                        <p class="text-gray-600 dark:text-gray-400 mb-4">Events you view will appear here for easy access.</p>
                        <a href="#events" class="text-primary-600 dark:text-primary-400 font-medium">Browse Events</a>
                    </div>
                    
                    <!-- Horizontal scrolling container for recent events -->
                    <div id="recent-events-scroll" class="hidden flex space-x-6 overflow-x-auto pb-4 -mx-4 px-4">
                        <!-- Recent event cards will be added here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Discover Events (Search & Filter) -->
        <section id="events" class="py-16 bg-gray-50 dark:bg-dark-bg border-t border-gray-200 dark:border-dark-border">
            <div class="container mx-auto px-4">
                <h2 class="text-3xl font-bold mb-8">Discover Events</h2>
                
                <!-- Search & Filters -->
                <div class="mb-12">
                    <div class="flex flex-col md:flex-row gap-4 mb-6">
                        <div class="flex-1 relative">
                            <div class="relative">
                                <input 
                                    type="text" 
                                    id="search-events" 
                                    class="form-input w-full px-4 py-3 pl-10 bg-white dark:bg-dark-card border border-gray-300 dark:border-dark-border rounded-lg text-base focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-300"
                                    placeholder="Search for events, venues, or categories"
                                    autocomplete="off"
                                >
                                <div class="absolute inset-y-0 left-0 flex items-center pl-3">
                                    <i class="fas fa-search text-gray-400"></i>
                                </div>
                                <button id="clear-search" class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hidden">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                            
                            <!-- Search suggestions dropdown -->
                            <div id="search-suggestions" class="absolute z-20 w-full mt-1 bg-white dark:bg-dark-card border border-gray-200 dark:border-dark-border rounded-lg shadow-lg max-h-60 overflow-y-auto hidden">
                                <div id="suggestions-content">
                                    <!-- Will be populated by JS -->
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <div class="relative">
                                <input 
                                    type="text" 
                                    id="date-picker" 
                                    class="form-input w-full px-4 py-3 pl-10 bg-white dark:bg-dark-card border border-gray-300 dark:border-dark-border rounded-lg text-base focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-300"
                                    placeholder="Select date range"
                                    readonly
                                >
                                <div class="absolute inset-y-0 left-0 flex items-center pl-3">
                                    <i class="far fa-calendar-alt text-gray-400"></i>
                                </div>
                                <button id="clear-dates" class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hidden">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Advanced filters -->
                    <div class="flex justify-between items-center mb-4">
                        <div class="flex flex-wrap gap-2">
                            <button class="filter-btn px-4 py-2 rounded-full bg-primary-600 text-white" data-filter="all">All</button>
                            <button class="filter-btn px-4 py-2 rounded-full bg-gray-200 dark:bg-dark-card text-gray-700 dark:text-gray-300 hover:bg-primary-600 hover:text-white dark:hover:bg-primary-600 transition-colors duration-300" data-filter="today">Today</button>
                            <button class="filter-btn px-4 py-2 rounded-full bg-gray-200 dark:bg-dark-card text-gray-700 dark:text-gray-300 hover:bg-primary-600 hover:text-white dark:hover:bg-primary-600 transition-colors duration-300" data-filter="weekend">This Weekend</button>
                            <button class="filter-btn px-4 py-2 rounded-full bg-gray-200 dark:bg-dark-card text-gray-700 dark:text-gray-300 hover:bg-primary-600 hover:text-white dark:hover:bg-primary-600 transition-colors duration-300" data-filter="month">This Month</button>
                            <button class="filter-btn px-4 py-2 rounded-full bg-gray-200 dark:bg-dark-card text-gray-700 dark:text-gray-300 hover:bg-primary-600 hover:text-white dark:hover:bg-primary-600 transition-colors duration-300" data-filter="free">Free</button>
                        </div>
                        <button id="advanced-filters-toggle" class="text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 font-medium flex items-center transition-colors duration-300">
                            <i class="fas fa-sliders-h mr-2"></i>
                            Filters
                        </button>
                    </div>
                    
                    <!-- Advanced filters panel -->
                    <div id="advanced-filters-panel" class="bg-white dark:bg-dark-card p-6 rounded-lg shadow-md mb-6 hidden">
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <!-- Category filter -->
                            <div>
                                <label for="category-filter" class="block text-gray-700 dark:text-gray-300 font-medium mb-2">Category</label>
                                <select 
                                    id="category-filter" 
                                    class="form-input w-full px-4 py-2 bg-gray-50 dark:bg-dark-bg border border-gray-300 dark:border-dark-border rounded-lg text-base focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-300"
                                >
                                    <option value="all">All Categories</option>
                                    <option value="music">Music</option>
                                    <option value="art">Art</option>
                                    <option value="food">Food & Drink</option>
                                    <option value="workshop">Workshop</option>
                                    <option value="conference">Conference</option>
                                    <option value="sports">Sports</option>
                                </select>
                            </div>
                            
                            <!-- Location filter -->
                            <div>
                                <label for="location-filter" class="block text-gray-700 dark:text-gray-300 font-medium mb-2">Location</label>
                                <select 
                                    id="location-filter" 
                                    class="form-input w-full px-4 py-2 bg-gray-50 dark:bg-dark-bg border border-gray-300 dark:border-dark-border rounded-lg text-base focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-300"
                                >
                                    <option value="all">All Locations</option>
                                    <option value="downtown">Downtown</option>
                                    <option value="riverside">Riverside</option>
                                    <option value="arts">Arts District</option>
                                    <option value="central">Central Park</option>
                                    <option value="convention">Convention Center</option>
                                </select>
                            </div>
                            
                            <!-- Price filter -->
                            <div>
                                <label for="price-filter" class="block text-gray-700 dark:text-gray-300 font-medium mb-2">
                                    Price Range: <span id="price-range-display">$0 - $150+</span>
                                </label>
                                <div class="range-slider">
                                    <input 
                                        type="range" 
                                        id="price-filter" 
                                        min="0" 
                                        max="150" 
                                        value="150" 
                                        class="w-full"
                                    >
                                </div>
                            </div>
                        </div>
                        
                        <div class="flex justify-end mt-6">
                            <button id="reset-filters" class="px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 font-medium rounded-lg mr-3 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors duration-300">
                                Reset
                            </button>
                            <button id="apply-filters" class="px-4 py-2 bg-primary-600 text-white font-medium rounded-lg shadow-sm hover:bg-primary-700 transition-colors duration-300">
                                Apply Filters
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Sort options -->
                <div class="flex justify-between items-center mb-6">
                    <p id="results-count" class="text-gray-600 dark:text-gray-400">Showing <span id="visible-count">0</span> of <span id="total-count">0</span> events</p>
                    
                    <div class="flex items-center">
                        <label for="sort-events" class="mr-2 text-gray-700 dark:text-gray-300">Sort by:</label>
                        <select 
                            id="sort-events" 
                            class="form-input px-4 py-2 bg-white dark:bg-dark-card border border-gray-300 dark:border-dark-border rounded-lg text-base focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-300"
                        >
                            <option value="date-asc">Date (Soonest)</option>
                            <option value="date-desc">Date (Latest)</option>
                            <option value="price-asc">Price (Low to High)</option>
                            <option value="price-desc">Price (High to Low)</option>
                            <option value="rating-desc">Highest Rated</option>
                        </select>
                    </div>
                </div>
                
                <!-- View toggle -->
                <div class="flex justify-end mb-6">
                    <div class="flex rounded-lg overflow-hidden border border-gray-300 dark:border-dark-border">
                        <button id="grid-view" class="px-3 py-2 bg-primary-600 text-white flex items-center" aria-label="Grid view">
                            <i class="fas fa-th"></i>
                        </button>
                        <button id="list-view" class="px-3 py-2 bg-white dark:bg-dark-card text-gray-700 dark:text-gray-300 flex items-center" aria-label="List view">
                            <i class="fas fa-list"></i>
                        </button>
                    </div>
                </div>
                
                <!-- No results message -->
                <div id="no-results" class="bg-white dark:bg-dark-card p-8 rounded-lg text-center hidden">
                    <div class="w-16 h-16 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-search text-gray-400 dark:text-gray-500 text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-2">No Events Found</h3>
                    <p class="text-gray-600 dark:text-gray-400 mb-4">Try adjusting your filters or search criteria.</p>
                    <button id="reset-search" class="px-4 py-2 bg-primary-600 text-white font-medium rounded-lg shadow-sm hover:bg-primary-700 transition-colors duration-300">
                        Reset Filters
                    </button>
                </div>
                
                <!-- Events Grid -->
                <div id="events-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                    <!-- Skeleton loaders -->
                    <div class="skeleton-card bg-white dark:bg-dark-card rounded-lg overflow-hidden shadow-sm">
                        <div class="h-48 skeleton"></div>
                        <div class="p-4">
                            <div class="skeleton h-4 w-16 mb-2"></div>
                            <div class="skeleton h-6 w-3/4 mb-4"></div>
                            <div class="skeleton h-4 w-1/2 mb-4"></div>
                            <div class="skeleton h-4 w-1/3 mb-4"></div>
                            <div class="flex justify-between items-center">
                                <div class="skeleton h-5 w-16"></div>
                                <div class="skeleton h-8 w-24"></div>
                            </div>
                        </div>
                    </div>
                    <div class="skeleton-card bg-white dark:bg-dark-card rounded-lg overflow-hidden shadow-sm">
                        <div class="h-48 skeleton"></div>
                        <div class="p-4">
                            <div class="skeleton h-4 w-16 mb-2"></div>
                            <div class="skeleton h-6 w-3/4 mb-4"></div>
                            <div class="skeleton h-4 w-1/2 mb-4"></div>
                            <div class="skeleton h-4 w-1/3 mb-4"></div>
                            <div class="flex justify-between items-center">
                                <div class="skeleton h-5 w-16"></div>
                                <div class="skeleton h-8 w-24"></div>
                            </div>
                        </div>
                    </div>
                    <div class="skeleton-card bg-white dark:bg-dark-card rounded-lg overflow-hidden shadow-sm">
                        <div class="h-48 skeleton"></div>
                        <div class="p-4">
                            <div class="skeleton h-4 w-16 mb-2"></div>
                            <div class="skeleton h-6 w-3/4 mb-4"></div>
                            <div class="skeleton h-4 w-1/2 mb-4"></div>
                            <div class="skeleton h-4 w-1/3 mb-4"></div>
                            <div class="flex justify-between items-center">
                                <div class="skeleton h-5 w-16"></div>
                                <div class="skeleton h-8 w-24"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Infinite scroll loading indicator -->
                <div id="infinite-scroll-loader" class="flex justify-center py-8 hidden">
                    <div class="loader"></div>
                </div>
            </div>
        </section>

        <!-- Categories -->
        <section id="categories" class="py-16 bg-white dark:bg-dark-bg border-t border-gray-200 dark:border-dark-border">
            <div class="container mx-auto px-4">
                <h2 class="text-3xl font-bold mb-12 text-center">Browse by Category</h2>
                
                <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6">
                    <!-- Category 1 -->
                    <div class="category-card bg-white dark:bg-dark-card p-6 rounded-lg shadow-sm text-center">
                        <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-primary-100 dark:bg-primary-900 flex items-center justify-center">
                            <i class="fas fa-music text-2xl text-primary-600 dark:text-primary-400"></i>
                        </div>
                        <h3 class="text-lg font-semibold mb-2">Music</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm">254 Events</p>
                        <a href="#events" class="block mt-3 text-primary-600 dark:text-primary-400 hover:underline text-sm">View Events</a>
                    </div>
                    
                    <!-- Category 2 -->
                    <div class="category-card bg-white dark:bg-dark-card p-6 rounded-lg shadow-sm text-center">
                        <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-primary-100 dark:bg-primary-900 flex items-center justify-center">
                            <i class="fas fa-film text-2xl text-primary-600 dark:text-primary-400"></i>
                        </div>
                        <h3 class="text-lg font-semibold mb-2">Cinema</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm">142 Events</p>
                        <a href="#events" class="block mt-3 text-primary-600 dark:text-primary-400 hover:underline text-sm">View Events</a>
                    </div>
                    
                    <!-- Category 3 -->
                    <div class="category-card bg-white dark:bg-dark-card p-6 rounded-lg shadow-sm text-center">
                        <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-primary-100 dark:bg-primary-900 flex items-center justify-center">
                            <i class="fas fa-palette text-2xl text-primary-600 dark:text-primary-400"></i>
                        </div>
                        <h3 class="text-lg font-semibold mb-2">Art</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm">86 Events</p>
                        <a href="#events" class="block mt-3 text-primary-600 dark:text-primary-400 hover:underline text-sm">View Events</a>
                    </div>
                    
                    <!-- Category 4 -->
                    <div class="category-card bg-white dark:bg-dark-card p-6 rounded-lg shadow-sm text-center">
                        <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-primary-100 dark:bg-primary-900 flex items-center justify-center">
                            <i class="fas fa-utensils text-2xl text-primary-600 dark:text-primary-400"></i>
                        </div>
                        <h3 class="text-lg font-semibold mb-2">Food</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm">118 Events</p>
                        <a href="#events" class="block mt-3 text-primary-600 dark:text-primary-400 hover:underline text-sm">View Events</a>
                    </div>
                    
                    <!-- Category 5 -->
                    <div class="category-card bg-white dark:bg-dark-card p-6 rounded-lg shadow-sm text-center">
                        <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-primary-100 dark:bg-primary-900 flex items-center justify-center">
                            <i class="fas fa-running text-2xl text-primary-600 dark:text-primary-400"></i>
                        </div>
                        <h3 class="text-lg font-semibold mb-2">Sports</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm">95 Events</p>
                        <a href="#events" class="block mt-3 text-primary-600 dark:text-primary-400 hover:underline text-sm">View Events</a>
                    </div>
                    
                    <!-- Category 6 -->
                    <div class="category-card bg-white dark:bg-dark-card p-6 rounded-lg shadow-sm text-center">
                        <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-primary-100 dark:bg-primary-900 flex items-center justify-center">
                            <i class="fas fa-graduation-cap text-2xl text-primary-600 dark:text-primary-400"></i>
                        </div>
                        <h3 class="text-lg font-semibold mb-2">Education</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm">132 Events</p>
                        <a href="#events" class="block mt-3 text-primary-600 dark:text-primary-400 hover:underline text-sm">View Events</a>
                    </div>
                    
                    <!-- Category 7 -->
                    <div class="category-card bg-white dark:bg-dark-card p-6 rounded-lg shadow-sm text-center">
                        <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-primary-100 dark:bg-primary-900 flex items-center justify-center">
                            <i class="fas fa-briefcase text-2xl text-primary-600 dark:text-primary-400"></i>
                        </div>
                        <h3 class="text-lg font-semibold mb-2">Business</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm">108 Events</p>
                        <a href="#events" class="block mt-3 text-primary-600 dark:text-primary-400 hover:underline text-sm">View Events</a>
                    </div>
                    
                    <!-- Category 8 -->
                    <div class="category-card bg-white dark:bg-dark-card p-6 rounded-lg shadow-sm text-center">
                        <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-primary-100 dark:bg-primary-900 flex items-center justify-center">
                            <i class="fas fa-glass-cheers text-2xl text-primary-600 dark:text-primary-400"></i>
                        </div>
                        <h3 class="text-lg font-semibold mb-2">Nightlife</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm">189 Events</p>
                        <a href="#events" class="block mt-3 text-primary-600 dark:text-primary-400 hover:underline text-sm">View Events</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Featured Venues -->
        <section id="venues" class="py-16 bg-gray-50 dark:bg-dark-bg border-t border-gray-200 dark:border-dark-border">
            <div class="container mx-auto px-4">
                <div class="flex justify-between items-center mb-12">
                    <h2 class="text-3xl font-bold">Featured Venues</h2>
                    <a href="#" class="text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 font-medium flex items-center transition-colors duration-300">
                        View All
                        <i class="fas fa-arrow-right ml-2"></i>
                    </a>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <!-- Venue 1 -->
                    <div class="bg-white dark:bg-dark-card rounded-lg overflow-hidden shadow-sm hover:shadow-lg transition-shadow duration-300">
                        <div class="h-48 bg-gray-300 dark:bg-gray-700 relative">
                            <div class="absolute inset-0 flex items-center justify-center">
                                <i class="fas fa-image text-4xl text-gray-400 dark:text-gray-500"></i>
                            </div>
                            <!-- Rating badge -->
                            <div class="absolute top-4 right-4 bg-white dark:bg-dark-bg px-2 py-1 rounded-lg shadow-md text-sm">
                                <span class="flex items-center text-yellow-500">
                                    <i class="fas fa-star mr-1"></i>
                                    <span>4.8</span>
                                </span>
                            </div>
                        </div>
                        <div class="p-6">
                            <h3 class="text-xl font-semibold mb-2">Grand Concert Hall</h3>
                            <p class="text-gray-600 dark:text-gray-400 mb-4 flex items-center">
                                <i class="fas fa-map-marker-alt mr-2 text-primary-600 dark:text-primary-400"></i>
                                Downtown
                            </p>
                            <div class="flex flex-wrap mb-4 gap-2">
                                <span class="text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full">Concerts</span>
                                <span class="text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full">Theatre</span>
                                <span class="text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full">5000 Capacity</span>
                            </div>
                            <a href="#" class="text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 font-medium transition-colors duration-300">View Events</a>
                        </div>
                    </div>
                    
                    <!-- Venue 2 -->
                    <div class="bg-white dark:bg-dark-card rounded-lg overflow-hidden shadow-sm hover:shadow-lg transition-shadow duration-300">
                        <div class="h-48 bg-gray-300 dark:bg-gray-700 relative">
                            <div class="absolute inset-0 flex items-center justify-center">
                                <i class="fas fa-image text-4xl text-gray-400 dark:text-gray-500"></i>
                            </div>
                            <!-- Rating badge -->
                            <div class="absolute top-4 right-4 bg-white dark:bg-dark-bg px-2 py-1 rounded-lg shadow-md text-sm">
                                <span class="flex items-center text-yellow-500">
                                    <i class="fas fa-star mr-1"></i>
                                    <span>4.6</span>
                                </span>
                            </div>
                        </div>
                        <div class="p-6">
                            <h3 class="text-xl font-semibold mb-2">Riverside Amphitheater</h3>
                            <p class="text-gray-600 dark:text-gray-400 mb-4 flex items-center">
                                <i class="fas fa-map-marker-alt mr-2 text-primary-600 dark:text-primary-400"></i>
                                Riverside
                            </p>
                            <div class="flex flex-wrap mb-4 gap-2">
                                <span class="text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full">Outdoor</span>
                                <span class="text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full">Concerts</span>
                                <span class="text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full">Festivals</span>
                            </div>
                            <a href="#" class="text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 font-medium transition-colors duration-300">View Events</a>
                        </div>
                    </div>
                    
                    <!-- Venue 3 -->
                    <div class="bg-white dark:bg-dark-card rounded-lg overflow-hidden shadow-sm hover:shadow-lg transition-shadow duration-300">
                        <div class="h-48 bg-gray-300 dark:bg-gray-700 relative">
                            <div class="absolute inset-0 flex items-center justify-center">
                                <i class="fas fa-image text-4xl text-gray-400 dark:text-gray-500"></i>
                            </div>
                            <!-- Rating badge -->
                            <div class="absolute top-4 right-4 bg-white dark:bg-dark-bg px-2 py-1 rounded-lg shadow-md text-sm">
                                <span class="flex items-center text-yellow-500">
                                    <i class="fas fa-star mr-1"></i>
                                    <span>4.9</span>
                                </span>
                            </div>
                        </div>
                        <div class="p-6">
                            <h3 class="text-xl font-semibold mb-2">Modern Art Gallery</h3>
                            <p class="text-gray-600 dark:text-gray-400 mb-4 flex items-center">
                                <i class="fas fa-map-marker-alt mr-2 text-primary-600 dark:text-primary-400"></i>
                                Arts District
                            </p>
                            <div class="flex flex-wrap mb-4 gap-2">
                                <span class="text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full">Exhibitions</span>
                                <span class="text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full">Workshops</span>
                                <span class="text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full">Cafe</span>
                            </div>
                            <a href="#" class="text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 font-medium transition-colors duration-300">View Events</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- CTA Section -->
        <section class="py-20 bg-primary-600 text-white overflow-hidden relative">
            <div class="container mx-auto px-4 text-center relative z-10">
                <h2 class="text-3xl md:text-4xl font-bold mb-6">Ready to Experience Amazing Events?</h2>
                <p class="text-lg md:text-xl mb-10 max-w-2xl mx-auto">Join thousands of people who discover and book events through our platform. Sign up and never miss out on the best events around you!</p>
                <div class="flex flex-col sm:flex-row justify-center gap-4">
                    <button id="signup-btn" class="px-8 py-3 bg-white text-primary-600 font-medium rounded-lg shadow-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50 transition-all duration-300">
                        Sign Up Now
                    </button>
                    <a href="#events" class="px-8 py-3 bg-transparent border-2 border-white text-white font-medium rounded-lg hover:bg-white hover:text-primary-600 focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50 transition-colors duration-300">
                        Explore Events
                    </a>
                </div>
            </div>
            
            <!-- Background decorations -->
            <div class="absolute top-0 left-0 w-64 h-64 bg-primary-500 opacity-20 rounded-full -ml-32"></div>
            <div class="absolute bottom-0 right-0 w-80 h-80 bg-indigo-500 opacity-20 rounded-full -mr-40 -mb-40"></div>
        </section>

        <!-- Ticket Purchase Flow -->
        <section class="py-16 bg-white dark:bg-dark-bg">
            <div class="container mx-auto px-4">
                <h2 class="text-3xl font-bold mb-12 text-center">Ticket Purchase Flow</h2>
                
                <div class="relative">
                    <!-- Progress bar -->
                    <div class="hidden md:block absolute top-14 left-0 w-full h-1 bg-gray-200 dark:bg-dark-border z-0"></div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-6 relative z-10">
                        <!-- Step 1 -->
                        <div class="text-center">
                            <div class="w-14 h-14 rounded-full bg-primary-600 text-white flex items-center justify-center mx-auto mb-4 shadow-md">
                                <i class="fas fa-ticket-alt text-lg"></i>
                            </div>
                            <h3 class="text-lg font-semibold mb-2">Select Tickets</h3>
                            <p class="text-gray-600 dark:text-gray-400 text-sm">Choose your preferred ticket type and quantity</p>
                        </div>
                        
                        <!-- Step 2 -->
                        <div class="text-center">
                            <div class="w-14 h-14 rounded-full bg-gray-200 dark:bg-dark-card text-gray-700 dark:text-gray-300 flex items-center justify-center mx-auto mb-4 shadow-sm">
                                <i class="fas fa-user-edit text-lg"></i>
                            </div>
                            <h3 class="text-lg font-semibold mb-2">Your Details</h3>
                            <p class="text-gray-600 dark:text-gray-400 text-sm">Fill in your personal and contact information</p>
                        </div>
                        
                        <!-- Step 3 -->
                        <div class="text-center">
                            <div class="w-14 h-14 rounded-full bg-gray-200 dark:bg-dark-card text-gray-700 dark:text-gray-300 flex items-center justify-center mx-auto mb-4 shadow-sm">
                                <i class="fas fa-credit-card text-lg"></i>
                            </div>
                            <h3 class="text-lg font-semibold mb-2">Payment</h3>
                            <p class="text-gray-600 dark:text-gray-400 text-sm">Complete your purchase with secure payment</p>
                        </div>
                        
                        <!-- Step 4 -->
                        <div class="text-center">
                            <div class="w-14 h-14 rounded-full bg-gray-200 dark:bg-dark-card text-gray-700 dark:text-gray-300 flex items-center justify-center mx-auto mb-4 shadow-sm">
                                <i class="fas fa-check text-lg"></i>
                            </div>
                            <h3 class="text-lg font-semibold mb-2">Confirmation</h3>
                            <p class="text-gray-600 dark:text-gray-400 text-sm">Receive your tickets via email</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-8">
                <!-- Company Info -->
                <div>
                    <h3 class="text-xl font-bold mb-4 flex items-center">
                        <i class="fas fa-ticket-alt mr-2 transform -rotate-45"></i>
                        Eventor
                    </h3>
                    <p class="text-gray-400 mb-4">Discover and book the best events around you. From concerts and festivals to workshops and conferences, find your perfect event experience.</p>
                    <!-- Social media links -->
                    <div class="flex space-x-4">
                        <a href="#" class="w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center text-gray-400 hover:text-white hover:bg-primary-600 transition-colors duration-300">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center text-gray-400 hover:text-white hover:bg-primary-600 transition-colors duration-300">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center text-gray-400 hover:text-white hover:bg-primary-600 transition-colors duration-300">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center text-gray-400 hover:text-white hover:bg-primary-600 transition-colors duration-300">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                    </div>
                </div>
                
                <!-- Discover -->
                <div>
                    <h4 class="text-lg font-semibold mb-4">Discover</h4>
                    <ul class="space-y-2">
                        <li><a href="#events" class="text-gray-400 hover:text-white transition-colors duration-300 flex items-center"><i class="fas fa-chevron-right text-xs mr-2"></i> Events</a></li>
                        <li><a href="#venues" class="text-gray-400 hover:text-white transition-colors duration-300 flex items-center"><i class="fas fa-chevron-right text-xs mr-2"></i> Venues</a></li>
                        <li><a href="#categories" class="text-gray-400 hover:text-white transition-colors duration-300 flex items-center"><i class="fas fa-chevron-right text-xs mr-2"></i> Categories</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors duration-300 flex items-center"><i class="fas fa-chevron-right text-xs mr-2"></i> Featured</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors duration-300 flex items-center"><i class="fas fa-chevron-right text-xs mr-2"></i> Nearby</a></li>
                    </ul>
                </div>
                
                <!-- Company -->
                <div>
                    <h4 class="text-lg font-semibold mb-4">Company</h4>
                    <ul class="space-y-2">
                        <li><a href="#about" class="text-gray-400 hover:text-white transition-colors duration-300 flex items-center"><i class="fas fa-chevron-right text-xs mr-2"></i> About Us</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors duration-300 flex items-center"><i class="fas fa-chevron-right text-xs mr-2"></i> Careers</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors duration-300 flex items-center"><i class="fas fa-chevron-right text-xs mr-2"></i> Blog</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors duration-300 flex items-center"><i class="fas fa-chevron-right text-xs mr-2"></i> Press</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors duration-300 flex items-center"><i class="fas fa-chevron-right text-xs mr-2"></i> Contact</a></li>
                    </ul>
                </div>
                
                <!-- Support -->
                <div>
                    <h4 class="text-lg font-semibold mb-4">Support</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors duration-300 flex items-center"><i class="fas fa-chevron-right text-xs mr-2"></i> Help Center</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors duration-300 flex items-center"><i class="fas fa-chevron-right text-xs mr-2"></i> FAQs</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors duration-300 flex items-center"><i class="fas fa-chevron-right text-xs mr-2"></i> Terms of Service</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors duration-300 flex items-center"><i class="fas fa-chevron-right text-xs mr-2"></i> Privacy Policy</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors duration-300 flex items-center"><i class="fas fa-chevron-right text-xs mr-2"></i> Accessibility</a></li>
                    </ul>
                </div>
            </div>
            
            <!-- Newsletter -->
            <div class="border-t border-gray-800 pt-8 pb-8">
                <div class="max-w-xl mx-auto text-center mb-6">
                    <h4 class="text-lg font-semibold mb-2">Subscribe to Our Newsletter</h4>
                    <p class="text-gray-400 mb-4">Get the latest updates on events and exclusive offers directly to your inbox.</p>
                    <div class="flex flex-col sm:flex-row gap-2">
                        <input type="email" placeholder="Your email address" class="form-input px-4 py-2 bg-gray-800 border border-gray-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-300 flex-1" />
                        <button class="px-4 py-2 bg-primary-600 text-white font-medium rounded-lg hover:bg-primary-700 transition-colors duration-300">Subscribe</button>
                    </div>
                </div>
            </div>
            
            <div class="border-t border-gray-800 pt-8">
                <div class="flex flex-col md:flex-row md:justify-between items-center">
                    <p class="text-gray-500 text-sm mb-4 md:mb-0">&copy; 2023 Eventor. All rights reserved.</p>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-white transition-colors duration-300">Terms</a>
                        <span class="text-gray-600"></span>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors duration-300">Privacy</a>
                        <span class="text-gray-600"></span>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors duration-300">Cookies</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Event Details Modal -->
    <div id="event-modal" class="fixed inset-0 z-50 overflow-y-auto hidden">
        <div class="min-h-screen px-4 flex items-center justify-center">
            <div class="modal bg-white dark:bg-dark-card rounded-lg shadow-xl max-w-4xl w-full mx-auto overflow-hidden">
                <div id="event-modal-content" class="relative">
                    <!-- Content will be loaded here dynamically -->
                    <div class="flex justify-center p-8">
                        <div class="loader"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Calendar Modal -->
    <div id="calendar-modal" class="fixed inset-0 z-50 overflow-y-auto hidden">
        <div class="min-h-screen px-4 flex items-center justify-center">
            <div class="modal bg-white dark:bg-dark-card rounded-lg shadow-xl max-w-2xl w-full mx-auto overflow-hidden">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-2xl font-bold">Event Calendar</h3>
                        <button class="close-modal text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 focus:outline-none">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                    
                    <!-- Calendar controls -->
                    <div class="flex justify-between items-center mb-6">
                        <button id="prev-month" class="p-2 text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 focus:outline-none">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <h4 id="current-month-display" class="text-xl font-medium">December 2023</h4>
                        <button id="next-month" class="p-2 text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 focus:outline-none">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                    
                    <!-- Calendar grid -->
                    <div class="mb-6">
                        <!-- Days of week headers -->
                        <div class="grid grid-cols-7 mb-2">
                            <div class="text-center font-semibold text-gray-600 dark:text-gray-400">Sun</div>
                            <div class="text-center font-semibold text-gray-600 dark:text-gray-400">Mon</div>
                            <div class="text-center font-semibold text-gray-600 dark:text-gray-400">Tue</div>
                            <div class="text-center font-semibold text-gray-600 dark:text-gray-400">Wed</div>
                            <div class="text-center font-semibold text-gray-600 dark:text-gray-400">Thu</div>
                            <div class="text-center font-semibold text-gray-600 dark:text-gray-400">Fri</div>
                            <div class="text-center font-semibold text-gray-600 dark:text-gray-400">Sat</div>
                        </div>
                        
                        <!-- Calendar days -->
                        <div id="calendar-days" class="grid grid-cols-7 gap-2">
                            <!-- Will be populated by JS -->
                        </div>
                    </div>
                    
                    <!-- Event list for selected day -->
                    <div id="day-events" class="border-t border-gray-200 dark:border-dark-border pt-4 hidden">
                        <h5 class="font-semibold mb-4">Events on <span id="selected-date">December 15, 2023</span></h5>
                        <div id="day-events-list" class="space-y-3 max-h-60 overflow-y-auto pr-2">
                            <!-- Will be populated by JS -->
                        </div>
                    </div>
                    
                    <!-- No events message -->
                    <div id="no-events-message" class="border-t border-gray-200 dark:border-dark-border pt-4 text-center py-6 hidden">
                        <div class="w-12 h-12 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-3">
                            <i class="fas fa-calendar-day text-gray-400 dark:text-gray-500"></i>
                        </div>
                        <p class="text-gray-600 dark:text-gray-400">No events on <span id="no-events-date">December 15, 2023</span></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Favorites Modal -->
    <div id="favorites-modal" class="fixed inset-0 z-50 overflow-y-auto hidden">
        <div class="min-h-screen px-4 flex items-center justify-center">
            <div class="modal bg-white dark:bg-dark-card rounded-lg shadow-xl max-w-3xl w-full mx-auto overflow-hidden">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-2xl font-bold">Saved Events</h3>
                        <button class="close-modal text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 focus:outline-none">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                    
                    <!-- Empty state -->
                    <div id="favorites-empty" class="bg-gray-50 dark:bg-dark-bg p-8 rounded-lg text-center">
                        <div class="w-16 h-16 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="far fa-heart text-gray-400 dark:text-gray-500 text-2xl"></i>
                        </div>
                        <h4 class="text-xl font-semibold mb-2">No Saved Events</h4>
                        <p class="text-gray-600 dark:text-gray-400 mb-4">Click the heart icon on events you're interested in to save them for later.</p>
                        <a href="#events" class="text-primary-600 dark:text-primary-400 font-medium">Browse Events</a>
                    </div>
                    
                    <!-- Favorites list -->
                    <div id="favorites-list" class="hidden space-y-4 max-h-96 overflow-y-auto pr-2">
                        <!-- Will be populated by JS -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Sign Up Modal -->
    <div id="signup-modal" class="fixed inset-0 z-50 overflow-y-auto hidden">
        <div class="min-h-screen px-4 flex items-center justify-center">
            <div class="modal bg-white dark:bg-dark-card rounded-lg shadow-xl max-w-md w-full mx-auto overflow-hidden">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-2xl font-bold">Sign Up</h3>
                        <button class="close-modal text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 focus:outline-none">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                    
                    <form id="signup-form" class="space-y-4">
                        <div>
                            <label for="name" class="block text-gray-700 dark:text-gray-300 mb-1">Full Name</label>
                            <input 
                                type="text" 
                                id="name" 
                                class="form-input w-full px-4 py-3 bg-gray-50 dark:bg-dark-bg border border-gray-300 dark:border-dark-border rounded-lg text-base focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-300"
                                required
                            >
                            <div class="error-message text-red-500 text-sm mt-1 hidden"></div>
                        </div>
                        
                        <div>
                            <label for="email" class="block text-gray-700 dark:text-gray-300 mb-1">Email Address</label>
                            <input 
                                type="email" 
                                id="email" 
                                class="form-input w-full px-4 py-3 bg-gray-50 dark:bg-dark-bg border border-gray-300 dark:border-dark-border rounded-lg text-base focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-300"
                                required
                            >
                            <div class="error-message text-red-500 text-sm mt-1 hidden"></div>
                        </div>
                        
                        <div>
                            <label for="password" class="block text-gray-700 dark:text-gray-300 mb-1">Password</label>
                            <div class="relative">
                                <input 
                                    type="password" 
                                    id="password" 
                                    class="form-input w-full px-4 py-3 bg-gray-50 dark:bg-dark-bg border border-gray-300 dark:border-dark-border rounded-lg text-base focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-300"
                                    required
                                >
                                <button 
                                    type="button" 
                                    id="password-toggle" 
                                    class="absolute inset-y-0 right-0 flex items-center px-3 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 focus:outline-none"
                                >
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                            <div class="error-message text-red-500 text-sm mt-1 hidden"></div>
                            <!-- Password strength meter -->
                            <div class="mt-2">
                                <div class="text-xs text-gray-600 dark:text-gray-400 mb-1">Password strength:</div>
                                <div class="flex space-x-1 h-1">
                                    <div id="strength-1" class="w-1/4 bg-gray-300 dark:bg-gray-600 rounded-l-full"></div>
                                    <div id="strength-2" class="w-1/4 bg-gray-300 dark:bg-gray-600"></div>
                                    <div id="strength-3" class="w-1/4 bg-gray-300 dark:bg-gray-600"></div>
                                    <div id="strength-4" class="w-1/4 bg-gray-300 dark:bg-gray-600 rounded-r-full"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <label class="flex items-center">
                                <input type="checkbox" class="form-checkbox h-5 w-5 text-primary-600 rounded focus:ring-primary-500" required>
                                <span class="ml-2 text-gray-700 dark:text-gray-300 text-sm">I agree to the <a href="#" class="text-primary-600 hover:underline">Terms of Service</a> and <a href="#" class="text-primary-600 hover:underline">Privacy Policy</a></span>
                            </label>
                        </div>
                        
                        <button type="submit" class="w-full px-6 py-3 bg-primary-600 text-white font-medium rounded-lg shadow-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-opacity-50 transition-colors duration-300">
                            Create Account
                        </button>
                    </form>
                    
                    <!-- Social login options -->
                    <div class="mt-6">
                        <div class="relative">
                            <div class="absolute inset-0 flex items-center">
                                <div class="w-full border-t border-gray-300 dark:border-dark-border"></div>
                            </div>
                            <div class="relative flex justify-center">
                                <span class="px-2 bg-white dark:bg-dark-card text-gray-500 dark:text-gray-400 text-sm">Or continue with</span>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-2 gap-3 mt-4">
                            <button class="flex items-center justify-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300">
                                <i class="fab fa-google text-red-500 mr-2"></i>
                                <span class="text-gray-700 dark:text-gray-300">Google</span>
                            </button>
                            <button class="flex items-center justify-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300">
                                <i class="fab fa-facebook-f text-blue-600 mr-2"></i>
                                <span class="text-gray-700 dark:text-gray-300">Facebook</span>
                            </button>
                        </div>
                    </div>
                    
                    <div class="mt-6 text-center">
                        <p class="text-gray-700 dark:text-gray-300 text-sm">Already have an account? <a href="#" id="signin-link" class="text-primary-600 hover:underline">Sign In</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Sign In Modal -->
    <div id="signin-modal" class="fixed inset-0 z-50 overflow-y-auto hidden">
        <div class="min-h-screen px-4 flex items-center justify-center">
            <div class="modal bg-white dark:bg-dark-card rounded-lg shadow-xl max-w-md w-full mx-auto overflow-hidden">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-2xl font-bold">Sign In</h3>
                        <button class="close-modal text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 focus:outline-none">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                    
                    <form id="signin-form" class="space-y-4">
                        <div>
                            <label for="signin-email" class="block text-gray-700 dark:text-gray-300 mb-1">Email Address</label>
                            <input 
                                type="email" 
                                id="signin-email" 
                                class="form-input w-full px-4 py-3 bg-gray-50 dark:bg-dark-bg border border-gray-300 dark:border-dark-border rounded-lg text-base focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-300"
                                required
                            >
                            <div class="error-message text-red-500 text-sm mt-1 hidden"></div>
                        </div>
                        
                        <div>
                            <label for="signin-password" class="block text-gray-700 dark:text-gray-300 mb-1">Password</label>
                            <div class="relative">
                                <input 
                                    type="password" 
                                    id="signin-password" 
                                    class="form-input w-full px-4 py-3 bg-gray-50 dark:bg-dark-bg border border-gray-300 dark:border-dark-border rounded-lg text-base focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-300"
                                    required
                                >
                                <button 
                                    type="button" 
                                    id="signin-password-toggle" 
                                    class="absolute inset-y-0 right-0 flex items-center px-3 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 focus:outline-none"
                                >
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                            <div class="error-message text-red-500 text-sm mt-1 hidden"></div>
                        </div>
                        
                        <div class="flex items-center justify-between">
                            <label class="flex items-center">
                                <input type="checkbox" class="form-checkbox h-5 w-5 text-primary-600 rounded focus:ring-primary-500">
                                <span class="ml-2 text-gray-700 dark:text-gray-300 text-sm">Remember me</span>
                            </label>
                            <a href="#" class="text-primary-600 hover:underline text-sm">Forgot password?</a>
                        </div>
                        
                        <button type="submit" class="w-full px-6 py-3 bg-primary-600 text-white font-medium rounded-lg shadow-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-opacity-50 transition-colors duration-300">
                            Sign In
                        </button>
                    </form>
                    
                    <!-- Social login options -->
                    <div class="mt-6">
                        <div class="relative">
                            <div class="absolute inset-0 flex items-center">
                                <div class="w-full border-t border-gray-300 dark:border-dark-border"></div>
                            </div>
                            <div class="relative flex justify-center">
                                <span class="px-2 bg-white dark:bg-dark-card text-gray-500 dark:text-gray-400 text-sm">Or continue with</span>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-2 gap-3 mt-4">
                            <button class="flex items-center justify-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300">
                                <i class="fab fa-google text-red-500 mr-2"></i>
                                <span class="text-gray-700 dark:text-gray-300">Google</span>
                            </button>
                            <button class="flex items-center justify-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-300">
                                <i class="fab fa-facebook-f text-blue-600 mr-2"></i>
                                <span class="text-gray-700 dark:text-gray-300">Facebook</span>
                            </button>
                        </div>
                    </div>
                    
                    <div class="mt-6 text-center">
                        <p class="text-gray-700 dark:text-gray-300 text-sm">Don't have an account? <a href="#" id="signup-link" class="text-primary-600 hover:underline">Sign Up</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Ticket Selection Modal -->
    <div id="ticket-modal" class="fixed inset-0 z-50 overflow-y-auto hidden">
        <div class="min-h-screen px-4 flex items-center justify-center">
            <div class="modal bg-white dark:bg-dark-card rounded-lg shadow-xl max-w-2xl w-full mx-auto overflow-hidden">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-2xl font-bold">Select Tickets</h3>
                        <button class="close-modal text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 focus:outline-none">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                    
                    <div id="ticket-selection-content">
                        <!-- Event info -->
                        <div class="mb-6 pb-6 border-b border-gray-200 dark:border-dark-border">
                            <h4 id="ticket-event-title" class="text-xl font-semibold mb-2">Summer Music Festival 2023</h4>
                            <div class="flex items-center text-gray-600 dark:text-gray-400 mb-1">
                                <i class="far fa-calendar-alt mr-2"></i>
                                <span id="ticket-event-date">November 15, 2023</span>
                            </div>
                            <div class="flex items-center text-gray-600 dark:text-gray-400 mb-1">
                                <i class="far fa-clock mr-2"></i>
                                <span id="ticket-event-time">7:00 PM</span>
                            </div>
                            <div class="flex items-center text-gray-600 dark:text-gray-400">
                                <i class="fas fa-map-marker-alt mr-2"></i>
                                <span id="ticket-event-venue">Central Park</span>
                            </div>
                        </div>
                        
                        <!-- Ticket types -->
                        <div class="mb-6">
                            <h4 class="font-semibold mb-4">Ticket Options</h4>
                            
                            <div class="space-y-4">
                                <!-- Ticket type 1 -->
                                <div class="bg-gray-50 dark:bg-dark-bg p-4 rounded-lg">
                                    <div class="flex justify-between items-start mb-3">
                                        <div>
                                            <h5 class="font-semibold">General Admission</h5>
                                            <p class="text-gray-600 dark:text-gray-400 text-sm">Standard entry to the event</p>
                                        </div>
                                        <div class="text-right">
                                            <div class="font-semibold">$59.99</div>
                                            <div class="text-gray-500 dark:text-gray-400 text-sm">per ticket</div>
                                        </div>
                                    </div>
                                    
                                    <div class="flex justify-between items-center">
                                        <div class="text-sm text-gray-500 dark:text-gray-400">
                                            <span class="text-green-600 dark:text-green-400">
                                                <i class="fas fa-check-circle mr-1"></i>
                                                In stock
                                            </span> 
                                             Max 10 per order
                                        </div>
                                        
                                        <div class="flex items-center">
                                            <button class="ticket-quantity-btn w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-gray-700 dark:text-gray-300 focus:outline-none" data-action="decrease" data-ticket-type="general">
                                                <i class="fas fa-minus text-xs"></i>
                                            </button>
                                            <span class="ticket-quantity mx-3 font-medium" data-ticket-type="general">0</span>
                                            <button class="ticket-quantity-btn w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-gray-700 dark:text-gray-300 focus:outline-none" data-action="increase" data-ticket-type="general">
                                                <i class="fas fa-plus text-xs"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Ticket type 2 -->
                                <div class="bg-gray-50 dark:bg-dark-bg p-4 rounded-lg">
                                    <div class="flex justify-between items-start mb-3">
                                        <div>
                                            <h5 class="font-semibold">VIP Experience</h5>
                                            <p class="text-gray-600 dark:text-gray-400 text-sm">Priority entry, exclusive area access</p>
                                        </div>
                                        <div class="text-right">
                                            <div class="font-semibold">$99.99</div>
                                            <div class="text-gray-500 dark:text-gray-400 text-sm">per ticket</div>
                                        </div>
                                    </div>
                                    
                                    <div class="flex justify-between items-center">
                                        <div class="text-sm text-gray-500 dark:text-gray-400">
                                            <span class="text-amber-600 dark:text-amber-400">
                                                <i class="fas fa-exclamation-circle mr-1"></i>
                                                Limited availability
                                            </span> 
                                             Max 4 per order
                                        </div>
                                        
                                        <div class="flex items-center">
                                            <button class="ticket-quantity-btn w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-gray-700 dark:text-gray-300 focus:outline-none" data-action="decrease" data-ticket-type="vip">
                                                <i class="fas fa-minus text-xs"></i>
                                            </button>
                                            <span class="ticket-quantity mx-3 font-medium" data-ticket-type="vip">0</span>
                                            <button class="ticket-quantity-btn w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-gray-700 dark:text-gray-300 focus:outline-none" data-action="increase" data-ticket-type="vip">
                                                <i class="fas fa-plus text-xs"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Order summary -->
                        <div class="mb-6 pb-6 border-t border-b border-gray-200 dark:border-dark-border py-4">
                            <h4 class="font-semibold mb-3">Order Summary</h4>
                            
                            <div class="space-y-2 mb-4">
                                <div id="general-summary" class="flex justify-between items-center hidden">
                                    <div>
                                        <span class="general-quantity">0</span>  General Admission
                                    </div>
                                    <div class="font-medium general-total">$0.00</div>
                                </div>
                                
                                <div id="vip-summary" class="flex justify-between items-center hidden">
                                    <div>
                                        <span class="vip-quantity">0</span>  VIP Experience
                                    </div>
                                    <div class="font-medium vip-total">$0.00</div>
                                </div>
                                
                                <div class="flex justify-between items-center text-gray-600 dark:text-gray-400">
                                    <div>Service fees</div>
                                    <div id="service-fee">$0.00</div>
                                </div>
                            </div>
                            
                            <div class="flex justify-between items-center font-semibold">
                                <div>Total</div>
                                <div id="order-total" class="text-lg">$0.00</div>
                            </div>
                        </div>
                        
                        <!-- Buttons -->
                        <div class="flex justify-end">
                            <button class="close-modal px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 font-medium rounded-lg mr-3 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors duration-300">
                                Cancel
                            </button>
                            <button id="checkout-btn" class="px-6 py-2 bg-primary-600 text-white font-medium rounded-lg shadow-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-opacity-50 transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                                Proceed to Checkout
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Toast -->
    <div id="notification-toast" class="fixed bottom-4 right-4 bg-white dark:bg-dark-card border border-gray-200 dark:border-dark-border shadow-lg rounded-lg p-4 max-w-md w-full transform translate-y-20 opacity-0 transition-all duration-300 z-50">
        <div class="flex items-center">
            <div class="flex-shrink-0 mr-3">
                <i id="notification-icon" class="fas fa-info-circle text-primary-600 text-xl"></i>
            </div>
            <div class="flex-1">
                <p id="notification-title" class="font-semibold"></p>
                <p id="notification-message" class="text-gray-600 dark:text-gray-400 text-sm"></p>
            </div>
            <button id="close-notification" class="ml-4 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 focus:outline-none">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <!-- Progress bar -->
        <div class="mt-2 bg-gray-200 dark:bg-gray-700 rounded-full h-1 overflow-hidden">
            <div id="notification-progress" class="bg-primary-600 h-1 rounded-full w-full transition-all duration-300"></div>
        </div>
    </div>

    <!-- Back to top button -->
    <button id="back-to-top" class="fixed bottom-6 right-6 p-3 rounded-full bg-primary-600 text-white shadow-lg transform translate-y-20 opacity-0 transition-all duration-300 focus:outline-none hover:bg-primary-700 z-30">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- JavaScript -->
    <script>
        // Helper functions
        function $(selector) {
            return document.querySelector(selector);
        }

        function $$(selector) {
            return document.querySelectorAll(selector);
        }

        // Check for dark mode preference
        function initDarkMode() {
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                document.documentElement.classList.add('dark');
            }

            window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
                if (event.matches) {
                    document.documentElement.classList.add('dark');
                } else {
                    document.documentElement.classList.remove('dark');
                }
            });

            // Dark mode toggle
            $('#dark-mode-toggle').addEventListener('click', () => {
                document.documentElement.classList.toggle('dark');
                
                // Show notification
                const isDarkMode = document.documentElement.classList.contains('dark');
                showNotification(
                    isDarkMode ? 'Dark Mode Enabled' : 'Light Mode Enabled',
                    isDarkMode ? 'The darker theme is easier on your eyes in low light.' : 'The lighter theme provides better visibility in bright environments.',
                    'info'
                );
            });
        }

        // Mobile menu toggle
        function initMobileMenu() {
            const menuToggle = $('#menu-toggle');
            const mobileMenu = $('#mobile-menu');

            menuToggle.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
                
                // Change icon based on state
                const icon = menuToggle.querySelector('i');
                if (mobileMenu.classList.contains('hidden')) {
                    icon.classList.remove('fa-times');
                    icon.classList.add('fa-bars');
                } else {
                    icon.classList.remove('fa-bars');
                    icon.classList.add('fa-times');
                }
            });
        }

        // Smooth scrolling for anchor links
        function initSmoothScroll() {
            $$('.nav-link').forEach(link => {
                link.addEventListener('click', e => {
                    e.preventDefault();
                    const targetId = link.getAttribute('href');
                    const targetElement = $(targetId);
                    
                    if (targetElement) {
                        // Close mobile menu if open
                        $('#mobile-menu').classList.add('hidden');
                        const menuIcon = $('#menu-toggle').querySelector('i');
                        menuIcon.classList.remove('fa-times');
                        menuIcon.classList.add('fa-bars');
                        
                        // Scroll to target
                        window.scrollTo({
                            top: targetElement.offsetTop - 80, // Adjust for header height
                            behavior: 'smooth'
                        });
                    }
                });
            });
        }

        // Back to top button
        function initBackToTop() {
            const backToTopBtn = $('#back-to-top');
            
            // Show/hide button based on scroll position
            window.addEventListener('scroll', () => {
                if (window.pageYOffset > 300) {
                    backToTopBtn.classList.remove('translate-y-20', 'opacity-0');
                } else {
                    backToTopBtn.classList.add('translate-y-20', 'opacity-0');
                }
            });
            
            // Scroll to top when clicked
            backToTopBtn.addEventListener('click', () => {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
        }

        // Modal functions
        function initModals() {
            const modalBackdrop = $('#modal-backdrop');
            
            // Open modal function
            function openModal(modalId) {
                $(modalId).classList.remove('hidden');
                modalBackdrop.classList.remove('hidden');
                document.body.classList.add('overflow-hidden');
            }
            
            // Close modal function
            function closeModal(modalId) {
                $(modalId).classList.add('hidden');
                
                // Check if any other modals are open
                const openModals = $$('.z-50:not(.hidden)');
                if (openModals.length <= 1) { // Only the notification toast might be visible
                    modalBackdrop.classList.add('hidden');
                    document.body.classList.remove('overflow-hidden');
                }
            }
            
            // Close all modals
            function closeAllModals() {
                $$('.z-50').forEach(modal => {
                    if (!modal.id.includes('notification') && !modal.id.includes('back-to-top')) {
                        modal.classList.add('hidden');
                    }
                });
                
                modalBackdrop.classList.add('hidden');
                document.body.classList.remove('overflow-hidden');
            }
            
            // Register global function
            window.openModal = openModal;
            window.closeModal = closeModal;
            window.closeAllModals = closeAllModals;
            
            // Sign up button
            $('#signup-btn').addEventListener('click', () => {
                openModal('#signup-modal');
            });
            
            // Sign in button
            $('#sign-in-btn').addEventListener('click', () => {
                openModal('#signin-modal');
            });
            
            // Open calendar button
            $('#open-calendar-btn').addEventListener('click', () => {
                openModal('#calendar-modal');
                initCalendar();
            });
            
            // Favorites button
            $('#favorites-btn').addEventListener('click', () => {
                openModal('#favorites-modal');
                loadFavorites();
            });
            
            // Modal toggle links
            $('#signin-link').addEventListener('click', (e) => {
                e.preventDefault();
                closeModal('#signup-modal');
                openModal('#signin-modal');
            });
            
            $('#signup-link').addEventListener('click', (e) => {
                e.preventDefault();
                closeModal('#signin-modal');
                openModal('#signup-modal');
            });
            
            // Close buttons
            $$('.close-modal').forEach(button => {
                button.addEventListener('click', () => {
                    const modal = button.closest('.z-50');
                    closeModal(`#${modal.id}`);
                });
            });
            
            // Close on backdrop click
            modalBackdrop.addEventListener('click', () => {
                closeAllModals();
            });
            
            // Close on escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    closeAllModals();
                }
            });
            
            // Event modal handling
            window.openEventModal = function(eventId) {
                // Show modal and backdrop
                openModal('#event-modal');
                
                // Get event data and populate modal
                const event = mockEvents.find(e => e.id == eventId);
                
                if (event) {
                    // Add to recently viewed
                    addToRecentlyViewed(event);
                    
                    $('#event-modal-content').innerHTML = `
                        <div class="relative">
                            <button class="absolute right-4 top-4 z-10 bg-white dark:bg-dark-bg rounded-full w-10 h-10 flex items-center justify-center shadow-md text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 focus:outline-none close-modal">
                                <i class="fas fa-times"></i>
                            </button>
                            <div class="h-64 bg-gray-300 dark:bg-gray-700 relative">
                                <div class="absolute inset-0 flex items-center justify-center">
                                    <i class="fas fa-image text-4xl text-gray-400 dark:text-gray-500"></i>
                                </div>
                                <!-- Add to favorites button -->
                                <button class="absolute top-4 left-4 z-10 bg-white dark:bg-dark-bg rounded-full w-10 h-10 flex items-center justify-center shadow-md text-gray-700 dark:text-gray-300 hover:text-rose-500 focus:outline-none toggle-favorite ${isFavorite(event.id) ? 'favorite text-rose-500' : ''}" data-id="${event.id}">
                                    <i class="fa${isFavorite(event.id) ? 's' : 'r'} fa-heart"></i>
                                </button>
                                <!-- Share button -->
                                <button class="absolute top-4 left-16 z-10 bg-white dark:bg-dark-bg rounded-full w-10 h-10 flex items-center justify-center shadow-md text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 focus:outline-none share-event tooltip">
                                    <i class="fas fa-share-alt"></i>
                                    <span class="tooltip-text">Share Event</span>
                                </button>
                            </div>
                            <div class="p-6">
                                <div class="flex flex-col md:flex-row md:items-start md:justify-between mb-6">
                                    <div>
                                        <div class="flex items-center mb-2">
                                            <span class="text-sm font-medium px-3 py-1 bg-${event.categoryColor}-100 dark:bg-${event.categoryColor}-900 text-${event.categoryColor}-800 dark:text-${event.categoryColor}-200 rounded-full">${event.category}</span>
                                            <div class="ml-3 flex items-center text-yellow-500">
                                                <span class="mr-1">${event.rating}</span>
                                                <i class="fas fa-star text-sm"></i>
                                                <span class="ml-1 text-gray-500 dark:text-gray-400 text-sm">(${event.reviews})</span>
                                            </div>
                                        </div>
                                        <h2 class="text-2xl font-bold mb-1">${event.title}</h2>
                                        <p class="text-gray-600 dark:text-gray-400 mb-4 flex items-center">
                                            <i class="fas fa-map-marker-alt mr-2 text-primary-600 dark:text-primary-400"></i>
                                            ${event.venue}
                                        </p>
                                    </div>
                                    <div class="bg-gray-50 dark:bg-dark-bg rounded-lg p-4 w-full md:w-auto">
                                        <div class="flex items-center justify-between mb-2">
                                            <div class="flex items-center">
                                                <div class="w-10 h-10 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center mr-3">
                                                    <i class="fas fa-calendar text-primary-600 dark:text-primary-400"></i>
                                                </div>
                                                <div>
                                                    <p class="text-gray-500 dark:text-gray-400 text-sm">Date</p>
                                                    <p class="font-medium">${event.date}</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="flex items-center">
                                            <div class="w-10 h-10 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center mr-3">
                                                <i class="fas fa-clock text-primary-600 dark:text-primary-400"></i>
                                            </div>
                                            <div>
                                                <p class="text-gray-500 dark:text-gray-400 text-sm">Time</p>
                                                <p class="font-medium">${event.time}</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="mb-8">
                                    <h3 class="text-xl font-semibold mb-3">About This Event</h3>
                                    <p class="text-gray-700 dark:text-gray-300 mb-4">
                                        ${event.description || 'Join us for this amazing event! Experience the excitement and create memories that will last a lifetime.'}
                                    </p>
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                        <div class="flex items-start">
                                            <i class="fas fa-users mt-1 mr-3 text-primary-600 dark:text-primary-400"></i>
                                            <div>
                                                <h4 class="font-medium">Attendees</h4>
                                                <p class="text-gray-600 dark:text-gray-400 text-sm">Suitable for all ages</p>
                                            </div>
                                        </div>
                                        <div class="flex items-start">
                                            <i class="fas fa-tag mt-1 mr-3 text-primary-600 dark:text-primary-400"></i>
                                            <div>
                                                <h4 class="font-medium">Price</h4>
                                                <p class="text-gray-600 dark:text-gray-400 text-sm">${event.price}</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Organizer section -->
                                <div class="mb-8 pb-8 border-b border-gray-200 dark:border-dark-border">
                                    <h3 class="text-xl font-semibold mb-3">Organizer</h3>
                                    <div class="flex items-center">
                                        <div class="w-12 h-12 bg-gray-300 dark:bg-gray-700 rounded-full mr-4 flex items-center justify-center">
                                            <i class="fas fa-user text-gray-500 dark:text-gray-400"></i>
                                        </div>
                                        <div>
                                            <h4 class="font-medium">Eventor Productions</h4>
                                            <p class="text-gray-600 dark:text-gray-400 text-sm">Event Organizer  <a href="#" class="text-primary-600 dark:text-primary-400 hover:underline">View Profile</a></p>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Reviews section -->
                                <div class="mb-8">
                                    <div class="flex justify-between items-center mb-4">
                                        <h3 class="text-xl font-semibold">Reviews</h3>
                                        <a href="#" class="text-primary-600 dark:text-primary-400 hover:underline text-sm">See All Reviews</a>
                                    </div>
                                    
                                    <!-- Review stars -->
                                    <div class="flex items-center mb-4">
                                        <div class="flex text-yellow-500 mr-2">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star-half-alt"></i>
                                        </div>
                                        <span class="text-gray-700 dark:text-gray-300 font-medium">${event.rating}</span>
                                        <span class="text-gray-600 dark:text-gray-400 ml-1"> ${event.reviews} reviews</span>
                                    </div>
                                    
                                    <!-- Review example -->
                                    <div class="bg-gray-50 dark:bg-dark-bg p-4 rounded-lg mb-4">
                                        <div class="flex justify-between mb-2">
                                            <div class="font-medium">Sarah J.</div>
                                            <div class="text-yellow-500 flex">
                                                <i class="fas fa-star"></i>
                                                <i class="fas fa-star"></i>
                                                <i class="fas fa-star"></i>
                                                <i class="fas fa-star"></i>
                                                <i class="fas fa-star"></i>
                                            </div>
                                        </div>
                                        <p class="text-gray-700 dark:text-gray-300 text-sm">Absolutely amazing experience! The organization was flawless and the atmosphere was electric. Would definitely attend again next year.</p>
                                    </div>
                                </div>
                                
                                <div class="border-t border-gray-200 dark:border-dark-border pt-6 flex flex-col sm:flex-row sm:justify-between sm:items-center">
                                    <div class="mb-4 sm:mb-0">
                                        <p class="text-2xl font-bold text-primary-600 dark:text-primary-400">${event.price}</p>
                                        <p class="text-gray-600 dark:text-gray-400 text-sm">Ticket price</p>
                                    </div>
                                    <div class="flex space-x-2">
                                        <button class="add-to-calendar-btn px-4 py-2 bg-white dark:bg-dark-bg border border-primary-600 dark:border-primary-400 text-primary-600 dark:text-primary-400 font-medium rounded-lg hover:bg-primary-50 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-opacity-50 transition-colors duration-300">
                                            <i class="far fa-calendar-plus mr-2"></i>
                                            Add to Calendar
                                        </button>
                                        <button class="book-now-btn px-6 py-2 bg-primary-600 text-white font-medium rounded-lg shadow-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-opacity-50 transition-colors duration-300" data-id="${event.id}">
                                            Book Now
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                    
                    // Add event listener to close button
                    $('#event-modal-content .close-modal').addEventListener('click', () => {
                        closeModal('#event-modal');
                    });
                    
                    // Add event listener to book now button
                    $('#event-modal-content .book-now-btn').addEventListener('click', (e) => {
                        const eventId = e.currentTarget.getAttribute('data-id');
                        closeModal('#event-modal');
                        openTicketModal(eventId);
                    });
                    
                    // Add event listener to favorite toggle
                    $('#event-modal-content .toggle-favorite').addEventListener('click', (e) => {
                        const btn = e.currentTarget;
                        const eventId = btn.getAttribute('data-id');
                        toggleFavorite(eventId, btn);
                    });
                    
                    // Add event listener to share button
                    $('#event-modal-content .share-event').addEventListener('click', () => {
                        showNotification('Share Feature', 'Sharing functionality would open a modal with social media options and copy link functionality.', 'info');
                    });
                    
                    // Add event listener to calendar button
                    $('#event-modal-content .add-to-calendar-btn').addEventListener('click', () => {
                        showNotification('Calendar Feature', 'This would allow users to add the event to their preferred calendar app (Google, Apple, Outlook, etc).', 'info');
                    });
                }
            };
            
            // Ticket modal
            window.openTicketModal = function(eventId) {
                const event = mockEvents.find(e => e.id == eventId);
                
                if (event) {
                    // Update ticket modal with event details
                    $('#ticket-event-title').textContent = event.title;
                    $('#ticket-event-venue').textContent = event.venue;
                    $('#ticket-event-date').textContent = `${event.date}, 2023`;
                    $('#ticket-event-time').textContent = event.time;
                    
                    // Reset quantities
                    $$('.ticket-quantity').forEach(el => {
                        el.textContent = '0';
                    });
                    
                    // Reset summaries
                    $('#general-summary').classList.add('hidden');
                    $('#vip-summary').classList.add('hidden');
                    
                    // Reset totals
                    $('.general-total').textContent = '$0.00';
                    $('.vip-total').textContent = '$0.00';
                    $('#service-fee').textContent = '$0.00';
                    $('#order-total').textContent = '$0.00';
                    
                    // Disable checkout button
                    $('#checkout-btn').disabled = true;
                    
                    // Open modal
                    openModal('#ticket-modal');
                    
                    // Set up quantity buttons
                    $$('.ticket-quantity-btn').forEach(btn => {
                        btn.addEventListener('click', handleTicketQuantityChange);
                    });
                    
                    // Set up checkout button
                    $('#checkout-btn').addEventListener('click', () => {
                        closeModal('#ticket-modal');
                        showNotification('Booking Started', 'You are now being redirected to the checkout page.', 'success');
                    });
                }
            };
        }

        // Handle ticket quantity changes
        function handleTicketQuantityChange(e) {
            const btn = e.currentTarget;
            const action = btn.getAttribute('data-action');
            const ticketType = btn.getAttribute('data-ticket-type');
            const quantityEl = document.querySelector(`.ticket-quantity[data-ticket-type="${ticketType}"]`);
            let quantity = parseInt(quantityEl.textContent);
            
            // Update quantity
            if (action === 'increase') {
                if ((ticketType === 'general' && quantity < 10) || (ticketType === 'vip' && quantity < 4)) {
                    quantity++;
                }
            } else if (action === 'decrease' && quantity > 0) {
                quantity--;
            }
            
            quantityEl.textContent = quantity;
            
            // Update summary
            updateTicketSummary();
        }

        // Update ticket summary
        function updateTicketSummary() {
            const generalQuantity = parseInt(document.querySelector('.ticket-quantity[data-ticket-type="general"]').textContent);
            const vipQuantity = parseInt(document.querySelector('.ticket-quantity[data-ticket-type="vip"]').textContent);
            
            // Calculate costs
            const generalPrice = 59.99;
            const vipPrice = 99.99;
            const generalTotal = generalQuantity * generalPrice;
            const vipTotal = vipQuantity * vipPrice;
            const subtotal = generalTotal + vipTotal;
            const serviceFee = subtotal > 0 ? subtotal * 0.1 : 0; // 10% service fee
            const total = subtotal + serviceFee;
            
            // Update display
            if (generalQuantity > 0) {
                $('#general-summary').classList.remove('hidden');
                $('.general-quantity').textContent = generalQuantity;
                $('.general-total').textContent = '$' + generalTotal.toFixed(2);
            } else {
                $('#general-summary').classList.add('hidden');
            }
            
            if (vipQuantity > 0) {
                $('#vip-summary').classList.remove('hidden');
                $('.vip-quantity').textContent = vipQuantity;
                $('.vip-total').textContent = '$' + vipTotal.toFixed(2);
            } else {
                $('#vip-summary').classList.add('hidden');
            }
            
            $('#service-fee').textContent = '$' + serviceFee.toFixed(2);
            $('#order-total').textContent = '$' + total.toFixed(2);
            
            // Enable or disable checkout button
            $('#checkout-btn').disabled = (generalQuantity + vipQuantity) === 0;
        }

        // Favorites system
        function initFavorites() {
            // Check if favorites exist in localStorage
            if (!localStorage.getItem('favorites')) {
                localStorage.setItem('favorites', JSON.stringify([]));
            }
            
            // Update favorites count
            updateFavoritesCount();
            
            // Add event listeners to favorite buttons on events listing
            document.addEventListener('click', function(e) {
                if (e.target.closest('.toggle-favorite')) {
                    const btn = e.target.closest('.toggle-favorite');
                    const eventId = btn.getAttribute('data-id');
                    toggleFavorite(eventId, btn);
                }
            });
        }

        // Toggle favorite status
        function toggleFavorite(eventId, btn) {
            let favorites = JSON.parse(localStorage.getItem('favorites')) || [];
            const isFav = favorites.includes(parseInt(eventId));
            
            if (isFav) {
                // Remove from favorites
                favorites = favorites.filter(id => id !== parseInt(eventId));
                if (btn) {
                    btn.classList.remove('favorite', 'text-rose-500');
                    btn.innerHTML = '<i class="far fa-heart"></i>';
                }
                showNotification('Removed from Favorites', 'This event has been removed from your saved events.', 'info');
            } else {
                // Add to favorites
                favorites.push(parseInt(eventId));
                if (btn) {
                    btn.classList.add('favorite', 'text-rose-500');
                    btn.innerHTML = '<i class="fas fa-heart"></i>';
                }
                showNotification('Added to Favorites', 'This event has been added to your saved events.', 'success');
            }
            
            localStorage.setItem('favorites', JSON.stringify(favorites));
            updateFavoritesCount();
        }

        // Check if event is favorite
        function isFavorite(eventId) {
            const favorites = JSON.parse(localStorage.getItem('favorites')) || [];
            return favorites.includes(parseInt(eventId));
        }

        // Update favorites count
        function updateFavoritesCount() {
            const favorites = JSON.parse(localStorage.getItem('favorites')) || [];
            $('#favorites-count').textContent = favorites.length;
        }

        // Load favorites into modal
        function loadFavorites() {
            const favorites = JSON.parse(localStorage.getItem('favorites')) || [];
            const favoritesList = $('#favorites-list');
            const favoritesEmpty = $('#favorites-empty');
            
            if (favorites.length === 0) {
                favoritesList.classList.add('hidden');
                favoritesEmpty.classList.remove('hidden');
                return;
            }
            
            favoritesList.classList.remove('hidden');
            favoritesEmpty.classList.add('hidden');
            
            // Clear existing content
            favoritesList.innerHTML = '';
            
            // Add favorite events
            favorites.forEach(id => {
                const event = mockEvents.find(e => e.id === id);
                if (event) {
                    const eventEl = document.createElement('div');
                    eventEl.className = 'bg-white dark:bg-dark-bg rounded-lg shadow-sm overflow-hidden';
                    eventEl.innerHTML = `
                        <div class="flex flex-col sm:flex-row">
                            <div class="sm:w-1/3 h-32 bg-gray-300 dark:bg-gray-700 relative">
                                <div class="absolute inset-0 flex items-center justify-center">
                                    <i class="fas fa-image text-4xl text-gray-400 dark:text-gray-500"></i>
                                </div>
                                <span class="absolute top-2 left-2 text-xs font-medium px-2 py-1 bg-${event.categoryColor}-100 dark:bg-${event.categoryColor}-900 text-${event.categoryColor}-800 dark:text-${event.categoryColor}-200 rounded-full">${event.category}</span>
                            </div>
                            <div class="p-4 sm:w-2/3 flex flex-col justify-between">
                                <div>
                                    <h4 class="font-semibold mb-1">${event.title}</h4>
                                    <p class="text-gray-600 dark:text-gray-400 text-sm flex items-center mb-2">
                                        <i class="fas fa-map-marker-alt mr-1 text-primary-600 dark:text-primary-400"></i>
                                        ${event.venue}
                                    </p>
                                    <p class="text-gray-600 dark:text-gray-400 text-sm flex items-center">
                                        <i class="far fa-calendar-alt mr-1 text-primary-600 dark:text-primary-400"></i>
                                        ${event.date}  ${event.time}
                                    </p>
                                </div>
                                <div class="flex justify-between items-center mt-3">
                                    <div class="text-gray-700 dark:text-gray-300 font-medium">${event.price}</div>
                                    <div class="flex space-x-2">
                                        <button class="remove-favorite p-2 text-gray-500 hover:text-rose-500 focus:outline-none" data-id="${event.id}">
                                            <i class="fas fa-trash-alt"></i>
                                        </button>
                                        <button class="view-event px-3 py-1 bg-primary-600 text-white text-sm rounded hover:bg-primary-700 focus:outline-none" data-id="${event.id}">
                                            View
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                    favoritesList.appendChild(eventEl);
                    
                    // Add event listeners
                    eventEl.querySelector('.view-event').addEventListener('click', (e) => {
                        const id = e.currentTarget.getAttribute('data-id');
                        closeModal('#favorites-modal');
                        openEventModal(id);
                    });
                    
                    eventEl.querySelector('.remove-favorite').addEventListener('click', (e) => {
                        const id = e.currentTarget.getAttribute('data-id');
                        toggleFavorite(id);
                        loadFavorites(); // Reload favorites list
                    });
                }
            });
        }

        // Recently viewed system
        function initRecentlyViewed() {
            // Check if recently viewed exists in localStorage
            if (!localStorage.getItem('recentlyViewed')) {
                localStorage.setItem('recentlyViewed', JSON.stringify([]));
            }
            
            // Add clear recent button functionality
            $('#clear-recent').addEventListener('click', () => {
                localStorage.setItem('recentlyViewed', JSON.stringify([]));
                loadRecentlyViewed();
                showNotification('Recently Viewed Cleared', 'Your recently viewed events have been cleared.', 'info');
            });
            
            // Load recently viewed events
            loadRecentlyViewed();
        }

        // Add to recently viewed
        function addToRecentlyViewed(event) {
            let recentlyViewed = JSON.parse(localStorage.getItem('recentlyViewed')) || [];
            
            // Remove the event if it's already in the list
            recentlyViewed = recentlyViewed.filter(item => item.id !== event.id);
            
            // Add to the beginning
            recentlyViewed.unshift({
                id: event.id,
                title: event.title,
                venue: event.venue,
                date: event.date,
                time: event.time,
                category: event.category,
                categoryColor: event.categoryColor,
                price: event.price
            });
            
            // Keep only the 6 most recent
            if (recentlyViewed.length > 6) {
                recentlyViewed = recentlyViewed.slice(0, 6);
            }
            
            localStorage.setItem('recentlyViewed', JSON.stringify(recentlyViewed));
            
            // Update the display if we're on the page
            loadRecentlyViewed();
        }

        // Load recently viewed events
        function loadRecentlyViewed() {
            const recentlyViewed = JSON.parse(localStorage.getItem('recentlyViewed')) || [];
            const recentEventsContainer = $('#recent-events-scroll');
            const emptyState = $('#recent-empty-state');
            
            if (recentlyViewed.length === 0) {
                recentEventsContainer.classList.add('hidden');
                emptyState.classList.remove('hidden');
                return;
            }
            
            recentEventsContainer.classList.remove('hidden');
            emptyState.classList.add('hidden');
            
            // Clear existing content
            recentEventsContainer.innerHTML = '';
            
            // Add recently viewed events
            recentlyViewed.forEach(event => {
                const eventEl = document.createElement('div');
                eventEl.className = 'flex-shrink-0 w-72 bg-white dark:bg-dark-card rounded-lg shadow-sm overflow-hidden';
                eventEl.innerHTML = `
                    <div class="h-40 bg-gray-300 dark:bg-gray-700 relative">
                        <div class="absolute inset-0 flex items-center justify-center">
                            <i class="fas fa-image text-4xl text-gray-400 dark:text-gray-500"></i>
                        </div>
                        <span class="absolute top-2 left-2 text-xs font-medium px-2 py-1 bg-${event.categoryColor}-100 dark:bg-${event.categoryColor}-900 text-${event.categoryColor}-800 dark:text-${event.categoryColor}-200 rounded-full">${event.category}</span>
                    </div>
                    <div class="p-4">
                        <h4 class="font-semibold mb-1">${event.title}</h4>
                        <p class="text-gray-600 dark:text-gray-400 text-sm flex items-center mb-2">
                            <i class="fas fa-map-marker-alt mr-1 text-primary-600 dark:text-primary-400"></i>
                            ${event.venue}
                        </p>
                        <p class="text-gray-600 dark:text-gray-400 text-sm flex items-center mb-3">
                            <i class="far fa-calendar-alt mr-1 text-primary-600 dark:text-primary-400"></i>
                            ${event.date}  ${event.time}
                        </p>
                        <button class="w-full px-4 py-2 bg-primary-600 text-white text-sm rounded-lg hover:bg-primary-700 focus:outline-none view-recent-event" data-id="${event.id}">
                            View Details
                        </button>
                    </div>
                `;
                recentEventsContainer.appendChild(eventEl);
                
                // Add event listener
                eventEl.querySelector('.view-recent-event').addEventListener('click', () => {
                    openEventModal(event.id);
                });
            });
        }

        // Form validation
        function initFormValidation() {
            // Password toggle functions
            function setupPasswordToggle(inputId, toggleId) {
                const passwordInput = $(inputId);
                const toggleButton = $(toggleId);
                
                toggleButton.addEventListener('click', () => {
                    const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                    passwordInput.setAttribute('type', type);
                    toggleButton.querySelector('i').classList.toggle('fa-eye');
                    toggleButton.querySelector('i').classList.toggle('fa-eye-slash');
                });
            }
            
            // Setup password toggles
            setupPasswordToggle('#password', '#password-toggle');
            setupPasswordToggle('#signin-password', '#signin-password-toggle');
            
            // Form validation functions
            function validateEmail(email) {
                const re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
                return re.test(String(email).toLowerCase());
            }
            
            function validatePassword(password) {
                return password.length >= 8;
            }
            
            function showError(input, message) {
                const errorElement = input.nextElementSibling;
                errorElement.textContent = message;
                errorElement.classList.remove('hidden');
                input.classList.add('border-red-500');
                input.classList.remove('border-gray-300', 'focus:border-primary-500');
            }
            
            function clearError(input) {
                const errorElement = input.nextElementSibling;
                errorElement.textContent = '';
                errorElement.classList.add('hidden');
                input.classList.remove('border-red-500');
                input.classList.add('border-gray-300', 'focus:border-primary-500');
            }
            
            // Password strength meter
            function updatePasswordStrength(password) {
                const strength1 = $('#strength-1');
                const strength2 = $('#strength-2');
                const strength3 = $('#strength-3');
                const strength4 = $('#strength-4');
                
                // Reset all
                [strength1, strength2, strength3, strength4].forEach(el => {
                    el.className = 'w-1/4 bg-gray-300 dark:bg-gray-600';
                });
                
                if (!password) return;
                
                let score = 0;
                
                // Length check
                if (password.length >= 8) score++;
                
                // Complexity checks
                if (/[A-Z]/.test(password)) score++;
                if (/[0-9]/.test(password)) score++;
                if (/[^A-Za-z0-9]/.test(password)) score++;
                
                // Update visual indicator
                if (score >= 1) {
                    strength1.className = 'w-1/4 bg-red-500 rounded-l-full';
                }
                if (score >= 2) {
                    strength2.className = 'w-1/4 bg-orange-500';
                }
                if (score >= 3) {
                    strength3.className = 'w-1/4 bg-yellow-500';
                }
                if (score >= 4) {
                    strength4.className = 'w-1/4 bg-green-500 rounded-r-full';
                }
            }
            
            // Real-time validation
            $('#email').addEventListener('input', function() {
                if (!validateEmail(this.value) && this.value) {
                    showError(this, 'Please enter a valid email address');
                } else {
                    clearError(this);
                }
            });
            
            $('#password').addEventListener('input', function() {
                if (!validatePassword(this.value) && this.value) {
                    showError(this, 'Password must be at least 8 characters long');
                } else {
                    clearError(this);
                }
                
                // Update password strength
                updatePasswordStrength(this.value);
            });
            
            $('#signin-email').addEventListener('input', function() {
                if (!validateEmail(this.value) && this.value) {
                    showError(this, 'Please enter a valid email address');
                } else {
                    clearError(this);
                }
            });
            
            // Form submission
            $('#signup-form').addEventListener('submit', function(e) {
                e.preventDefault();
                let isValid = true;
                
                // Validate name
                if (!$('#name').value.trim()) {
                    showError($('#name'), 'Please enter your name');
                    isValid = false;
                }
                
                // Validate email
                if (!validateEmail($('#email').value)) {
                    showError($('#email'), 'Please enter a valid email address');
                    isValid = false;
                }
                
                // Validate password
                if (!validatePassword($('#password').value)) {
                    showError($('#password'), 'Password must be at least 8 characters long');
                    isValid = false;
                }
                
                if (isValid) {
                    // Form is valid, close modal and show success notification
                    closeAllModals();
                    showNotification('Account Created', 'Your account has been created successfully. You are now signed in.', 'success');
                }
            });
            
            $('#signin-form').addEventListener('submit', function(e) {
                e.preventDefault();
                let isValid = true;
                
                // Validate email
                if (!validateEmail($('#signin-email').value)) {
                    showError($('#signin-email'), 'Please enter a valid email address');
                    isValid = false;
                }
                
                // Validate password (simplified for demo)
                if (!$('#signin-password').value) {
                    showError($('#signin-password'), 'Please enter your password');
                    isValid = false;
                }
                
                if (isValid) {
                    // Form is valid, close modal and show success notification
                    closeAllModals();
                    showNotification('Welcome Back', 'You have successfully signed in to your account.', 'success');
                }
            });
        }

        // Initialize date picker
        function initDatePicker() {
            flatpickr('#date-picker', {
                mode: 'range',
                dateFormat: 'M j, Y',
                onChange: function(selectedDates) {
                    const clearBtn = $('#clear-dates');
                    if (selectedDates.length > 0) {
                        clearBtn.classList.remove('hidden');
                    } else {
                        clearBtn.classList.add('hidden');
                    }
                }
            });
            
            // Clear dates button
            $('#clear-dates').addEventListener('click', function() {
                const datePicker = $('#date-picker')._flatpickr;
                datePicker.clear();
                this.classList.add('hidden');
            });
        }

        // Initialize calendar
        function initCalendar() {
            const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
            const daysInMonth = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
            
            // Get current date
            const today = new Date();
            let currentMonth = today.getMonth();
            let currentYear = today.getFullYear();
            
            // Update calendar display
            function updateCalendar() {
                // Update month/year display
                $('#current-month-display').textContent = `${months[currentMonth]} ${currentYear}`;
                
                // Clear existing days
                $('#calendar-days').innerHTML = '';
                
                // Calculate first day of month and total days
                const firstDay = new Date(currentYear, currentMonth, 1).getDay();
                const totalDays = daysInMonth[currentMonth];
                
                // Add empty cells for days before first day of month
                for (let i = 0; i < firstDay; i++) {
                    const emptyDay = document.createElement('div');
                    emptyDay.className = 'calendar-day empty h-10 rounded-lg';
                    $('#calendar-days').appendChild(emptyDay);
                }
                
                // Add days
                for (let i = 1; i <= totalDays; i++) {
                    const dayElement = document.createElement('div');
                    dayElement.className = 'calendar-day h-10 rounded-lg flex items-center justify-center cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200';
                    
                    // Check if this is today
                    if (currentMonth === today.getMonth() && currentYear === today.getFullYear() && i === today.getDate()) {
                        dayElement.classList.add('ring-2', 'ring-primary-500', 'font-bold');
                    }
                    
                    // Check if this day has events
                    const hasEvents = mockEvents.some(event => {
                        const eventDate = event.date.split(' ')[1];
                        return parseInt(eventDate) === i && months[currentMonth].startsWith(event.date.split(' ')[0]);
                    });
                    
                    if (hasEvents) {
                        dayElement.classList.add('has-events');
                    }
                    
                    dayElement.textContent = i;
                    dayElement.setAttribute('data-date', `${months[currentMonth]} ${i}, ${currentYear}`);
                    
                    // Add click handler
                    dayElement.addEventListener('click', handleCalendarDayClick);
                    
                    $('#calendar-days').appendChild(dayElement);
                }
            }
            
            // Handle calendar navigation
            $('#prev-month').addEventListener('click', () => {
                currentMonth--;
                if (currentMonth < 0) {
                    currentMonth = 11;
                    currentYear--;
                }
                updateCalendar();
                hideEventsList();
            });
            
            $('#next-month').addEventListener('click', () => {
                currentMonth++;
                if (currentMonth > 11) {
                    currentMonth = 0;
                    currentYear++;
                }
                updateCalendar();
                hideEventsList();
            });
            
            // Handle day click
            function handleCalendarDayClick(e) {
                // Remove selected class from all days
                $$('.calendar-day.selected').forEach(day => {
                    day.classList.remove('selected');
                });
                
                // Add selected class to clicked day
                e.currentTarget.classList.add('selected');
                
                const dateString = e.currentTarget.getAttribute('data-date');
                
                // Find events for this day
                const dayEvents = mockEvents.filter(event => {
                    const eventMonth = event.date.split(' ')[0];
                    const eventDay = parseInt(event.date.split(' ')[1]);
                    return months[currentMonth].startsWith(eventMonth) && eventDay === parseInt(e.currentTarget.textContent);
                });
                
                // Update selected date displays
                $('#selected-date').textContent = dateString;
                $('#no-events-date').textContent = dateString;
                
                // Show/hide appropriate sections
                if (dayEvents.length > 0) {
                    $('#day-events').classList.remove('hidden');
                    $('#no-events-message').classList.add('hidden');
                    
                    // Clear and populate events list
                    const eventsList = $('#day-events-list');
                    eventsList.innerHTML = '';
                    
                    dayEvents.forEach(event => {
                        const eventEl = document.createElement('div');
                        eventEl.className = 'bg-gray-50 dark:bg-dark-bg p-3 rounded-lg';
                        eventEl.innerHTML = `
                            <div class="flex justify-between items-start">
                                <div>
                                    <div class="flex items-center mb-1">
                                        <span class="text-xs font-medium px-2 py-0.5 bg-${event.categoryColor}-100 dark:bg-${event.categoryColor}-900 text-${event.categoryColor}-800 dark:text-${event.categoryColor}-200 rounded-full mr-2">${event.category}</span>
                                        <span class="text-gray-600 dark:text-gray-400 text-xs">${event.time}</span>
                                    </div>
                                    <h5 class="font-medium">${event.title}</h5>
                                    <p class="text-gray-600 dark:text-gray-400 text-sm">${event.venue}</p>
                                </div>
                                <button class="view-calendar-event px-3 py-1 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 focus:outline-none" data-id="${event.id}">
                                    View
                                </button>
                            </div>
                        `;
                        eventsList.appendChild(eventEl);
                        
                        // Add event listener to view button
                        eventEl.querySelector('.view-calendar-event').addEventListener('click', (e) => {
                            const id = e.currentTarget.getAttribute('data-id');
                            closeModal('#calendar-modal');
                            openEventModal(id);
                        });
                    });
                } else {
                    $('#day-events').classList.add('hidden');
                    $('#no-events-message').classList.remove('hidden');
                }
            }
            
            // Hide events list
            function hideEventsList() {
                $('#day-events').classList.add('hidden');
                $('#no-events-message').classList.add('hidden');
                
                // Remove selected class from all days
                $$('.calendar-day.selected').forEach(day => {
                    day.classList.remove('selected');
                });
            }
            
            // Initialize
            updateCalendar();
        }

        // Show notification toast
        function showNotification(title, message, type = 'info') {
            const toast = $('#notification-toast');
            const titleEl = $('#notification-title');
            const messageEl = $('#notification-message');
            const iconEl = $('#notification-icon');
            const progressBar = $('#notification-progress');
            
            // Stop any existing timeout
            if (window.toastTimeout) {
                clearTimeout(window.toastTimeout);
                if (window.progressInterval) clearInterval(window.progressInterval);
            }
            
            // Set content
            titleEl.textContent = title;
            messageEl.textContent = message;
            
            // Set icon based on type
            iconEl.className = 'fas text-xl';
            if (type === 'success') {
                iconEl.classList.add('fa-check-circle', 'text-green-600');
            } else if (type === 'error') {
                iconEl.classList.add('fa-exclamation-circle', 'text-red-600');
            } else if (type === 'warning') {
                iconEl.classList.add('fa-exclamation-triangle', 'text-yellow-600');
            } else {
                iconEl.classList.add('fa-info-circle', 'text-primary-600');
            }
            
            // Show toast
            toast.classList.remove('translate-y-20', 'opacity-0');
            
            // Reset and start progress bar
            progressBar.style.width = '100%';
            const duration = 5000; // 5 seconds
            const steps = 50;
            const interval = duration / steps;
            let progress = 100;
            
            window.progressInterval = setInterval(() => {
                progress -= 100 / steps;
                progressBar.style.width = `${progress}%`;
                
                if (progress <= 0) {
                    clearInterval(window.progressInterval);
                }
            }, interval);
            
            // Hide toast after duration
            window.toastTimeout = setTimeout(() => {
                toast.classList.add('translate-y-20', 'opacity-0');
                if (window.progressInterval) clearInterval(window.progressInterval);
            }, duration);
            
            // Close button event listener
            $('#close-notification').addEventListener('click', () => {
                toast.classList.add('translate-y-20', 'opacity-0');
                if (window.progressInterval) clearInterval(window.progressInterval);
                if (window.toastTimeout) clearTimeout(window.toastTimeout);
            });
        }

        // Search functionality
        function initSearch() {
            const searchInput = $('#search-events');
            const suggestionsContainer = $('#search-suggestions');
            const clearButton = $('#clear-search');
            
            // Show/hide clear button based on input
            searchInput.addEventListener('input', function() {
                if (this.value) {
                    clearButton.classList.remove('hidden');
                    showSearchSuggestions(this.value);
                } else {
                    clearButton.classList.add('hidden');
                    suggestionsContainer.classList.add('hidden');
                }
            });
            
            // Clear search
            clearButton.addEventListener('click', function() {
                searchInput.value = '';
                clearButton.classList.add('hidden');
                suggestionsContainer.classList.add('hidden');
                filterEvents();
            });
            
            // Handle suggestions
            function showSearchSuggestions(query) {
                if (!query) {
                    suggestionsContainer.classList.add('hidden');
                    return;
                }
                
                query = query.toLowerCase();
                
                // Find matching events
                const matchingEvents = mockEvents.filter(event => 
                    event.title.toLowerCase().includes(query) || 
                    event.venue.toLowerCase().includes(query) || 
                    event.category.toLowerCase().includes(query)
                );
                
                // Find matching categories
                const allCategories = [...new Set(mockEvents.map(event => event.category))];
                const matchingCategories = allCategories.filter(category => 
                    category.toLowerCase().includes(query)
                );
                
                // Find matching venues
                const allVenues = [...new Set(mockEvents.map(event => event.venue))];
                const matchingVenues = allVenues.filter(venue => 
                    venue.toLowerCase().includes(query)
                );
                
                // If no results, hide suggestions
                if (matchingEvents.length === 0 && matchingCategories.length === 0 && matchingVenues.length === 0) {
                    suggestionsContainer.classList.add('hidden');
                    return;
                }
                
                // Build suggestions HTML
                let suggestionsHTML = '';
                
                // Add event suggestions
                if (matchingEvents.length > 0) {
                    suggestionsHTML += `<div class="p-2 text-xs text-gray-500 dark:text-gray-400 uppercase font-semibold">Events</div>`;
                    matchingEvents.slice(0, 3).forEach(event => {
                        suggestionsHTML += `
                            <div class="suggestion-item p-3 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer flex items-center" data-type="event" data-value="${event.title}" data-id="${event.id}">
                                <div class="w-8 h-8 rounded-full bg-${event.categoryColor}-100 dark:bg-${event.categoryColor}-900 flex items-center justify-center mr-3">
                                    <i class="fas fa-calendar-day text-${event.categoryColor}-600 dark:text-${event.categoryColor}-300 text-xs"></i>
                                </div>
                                <div>
                                    <div class="font-medium">${event.title}</div>
                                    <div class="text-gray-600 dark:text-gray-400 text-xs">${event.date}  ${event.venue}</div>
                                </div>
                            </div>
                        `;
                    });
                }
                
                // Add category suggestions
                if (matchingCategories.length > 0) {
                    suggestionsHTML += `<div class="p-2 text-xs text-gray-500 dark:text-gray-400 uppercase font-semibold">Categories</div>`;
                    matchingCategories.forEach(category => {
                        suggestionsHTML += `
                            <div class="suggestion-item p-3 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer flex items-center" data-type="category" data-value="${category}">
                                <div class="w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center mr-3">
                                    <i class="fas fa-tag text-gray-600 dark:text-gray-300 text-xs"></i>
                                </div>
                                <div class="font-medium">${category}</div>
                            </div>
                        `;
                    });
                }
                
                // Add venue suggestions
                if (matchingVenues.length > 0) {
                    suggestionsHTML += `<div class="p-2 text-xs text-gray-500 dark:text-gray-400 uppercase font-semibold">Venues</div>`;
                    matchingVenues.forEach(venue => {
                        suggestionsHTML += `
                            <div class="suggestion-item p-3 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer flex items-center" data-type="venue" data-value="${venue}">
                                <div class="w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center mr-3">
                                    <i class="fas fa-map-marker-alt text-gray-600 dark:text-gray-300 text-xs"></i>
                                </div>
                                <div class="font-medium">${venue}</div>
                            </div>
                        `;
                    });
                }
                
                // Show suggestions
                $('#suggestions-content').innerHTML = suggestionsHTML;
                suggestionsContainer.classList.remove('hidden');
                
                // Add click handlers to suggestions
                $$('.suggestion-item').forEach(item => {
                    item.addEventListener('click', function() {
                        const type = this.getAttribute('data-type');
                        const value = this.getAttribute('data-value');
                        
                        if (type === 'event') {
                            // Open event modal for this event
                            const eventId = this.getAttribute('data-id');
                            openEventModal(eventId);
                        } else {
                            // Set search input value and filter
                            searchInput.value = value;
                            filterEvents();
                        }
                        
                        // Hide suggestions
                        suggestionsContainer.classList.add('hidden');
                        
                        // Show clear button
                        clearButton.classList.remove('hidden');
                    });
                });
            }
            
            // Close suggestions on click outside
            document.addEventListener('click', function(e) {
                if (!e.target.closest('#search-suggestions') && !e.target.closest('#search-events')) {
                    suggestionsContainer.classList.add('hidden');
                }
            });
        }

        // Advanced filters
        function initAdvancedFilters() {
            const filtersToggle = $('#advanced-filters-toggle');
            const filtersPanel = $('#advanced-filters-panel');
            const priceFilter = $('#price-filter');
            const priceDisplay = $('#price-range-display');
            
            // Toggle filters panel
            filtersToggle.addEventListener('click', () => {
                filtersPanel.classList.toggle('hidden');
            });
            
            // Update price display
            priceFilter.addEventListener('input', () => {
                const value = priceFilter.value;
                priceDisplay.textContent = value >= 150 ? `$0 - $150+` : `$0 - $${value}`;
            });
            
            // Apply filters
            $('#apply-filters').addEventListener('click', () => {
                filterEvents();
                filtersPanel.classList.add('hidden');
                showNotification('Filters Applied', 'The events list has been updated with your filters.', 'info');
            });
            
            // Reset filters
            $('#reset-filters').addEventListener('click', () => {
                // Reset category filter
                $('#category-filter').value = 'all';
                
                // Reset location filter
                $('#location-filter').value = 'all';
                
                // Reset price filter
                priceFilter.value = 150;
                priceDisplay.textContent = '$0 - $150+';
                
                // Reset date picker
                const datePicker = $('#date-picker')._flatpickr;
                datePicker.clear();
                $('#clear-dates').classList.add('hidden');
                
                // Reset search
                $('#search-events').value = '';
                $('#clear-search').classList.add('hidden');
                
                // Reset filters buttons
                $$('.filter-btn').forEach(btn => {
                    btn.classList.remove('bg-primary-600', 'text-white');
                    btn.classList.add('bg-gray-200', 'dark:bg-dark-card', 'text-gray-700', 'dark:text-gray-300');
                });
                $$('.filter-btn[data-filter="all"]').forEach(btn => {
                    btn.classList.remove('bg-gray-200', 'dark:bg-dark-card', 'text-gray-700', 'dark:text-gray-300');
                    btn.classList.add('bg-primary-600', 'text-white');
                });
                
                // Apply filters
                filterEvents();
                
                // Hide panel
                filtersPanel.classList.add('hidden');
                
                showNotification('Filters Reset', 'All filters have been reset to default values.', 'info');
            });
        }

        // View toggle
        function initViewToggle() {
            const gridViewBtn = $('#grid-view');
            const listViewBtn = $('#list-view');
            const eventsContainer = $('#events-container');
            
            gridViewBtn.addEventListener('click', () => {
                gridViewBtn.classList.remove('bg-white', 'dark:bg-dark-card', 'text-gray-700', 'dark:text-gray-300');
                gridViewBtn.classList.add('bg-primary-600', 'text-white');
                
                listViewBtn.classList.remove('bg-primary-600', 'text-white');
                listViewBtn.classList.add('bg-white', 'dark:bg-dark-card', 'text-gray-700', 'dark:text-gray-300');
                
                // Change view
                eventsContainer.classList.remove('grid-cols-1');
                eventsContainer.classList.add('grid-cols-1', 'sm:grid-cols-2', 'lg:grid-cols-3');
                
                // Re-render events in grid view
                renderEvents('grid');
            });
            
            listViewBtn.addEventListener('click', () => {
                listViewBtn.classList.remove('bg-white', 'dark:bg-dark-card', 'text-gray-700', 'dark:text-gray-300');
                listViewBtn.classList.add('bg-primary-600', 'text-white');
                
                gridViewBtn.classList.remove('bg-primary-600', 'text-white');
                gridViewBtn.classList.add('bg-white', 'dark:bg-dark-card', 'text-gray-700', 'dark:text-gray-300');
                
                // Change view
                eventsContainer.classList.remove('sm:grid-cols-2', 'lg:grid-cols-3');
                eventsContainer.classList.add('grid-cols-1');
                
                // Re-render events in list view
                renderEvents('list');
            });
        }

        // Mock data for events
        const mockEvents = [
            {
                id: 1,
                title: "Summer Music Festival 2023",
                date: "Nov 15",
                time: "7:00 PM",
                venue: "Central Park",
                price: "$59.99",
                category: "Music",
                categoryColor: "indigo",
                rating: 4.8,
                reviews: 245,
                featured: true,
                description: "Experience the best of summer with live performances from top artists across genres. Enjoy food stalls, art installations, and more in a vibrant festival atmosphere."
            },
            {
                id: 2,
                title: "UX Design Masterclass",
                date: "Nov 22",
                time: "10:00 AM",
                venue: "Design Hub",
                price: "$29.99",
                category: "Workshop",
                categoryColor: "green",
                rating: 4.9,
                reviews: 128,
                featured: true,
                description: "Learn the fundamentals of UX design from industry experts. This hands-on workshop covers user research, prototyping, usability testing, and more."
            },
            {
                id: 3,
                title: "Tech Innovation Summit 2023",
                date: "Dec 08",
                time: "9:00 AM",
                venue: "Convention Center",
                price: "$149.99",
                category: "Conference",
                categoryColor: "blue",
                rating: 4.7,
                reviews: 189,
                featured: true,
                description: "Join tech leaders, innovators, and entrepreneurs for a day of inspiring talks, panel discussions, and networking opportunities focused on future technologies."
            },
            {
                id: 4,
                title: "Wine & Cheese Festival",
                date: "Dec 17",
                time: "4:00 PM",
                venue: "Riverside Gardens",
                price: "$39.99",
                category: "Food & Drink",
                categoryColor: "red",
                rating: 4.6,
                reviews: 215,
                featured: true,
                description: "Indulge in a curated selection of fine wines paired with artisanal cheeses from around the world. Meet local producers and enjoy live music in a beautiful garden setting."
            },
            {
                id: 5,
                title: "Contemporary Art Exhibition",
                date: "Jan 05",
                time: "11:00 AM",
                venue: "Modern Art Gallery",
                price: "$19.99",
                category: "Art",
                categoryColor: "purple",
                rating: 4.5,
                reviews: 152,
                featured: false,
                description: "Explore thought-provoking works from emerging and established contemporary artists. The exhibition features installations, paintings, sculptures, and digital art exploring modern themes."
            },
            {
                id: 6,
                title: "Marathon City Run 2023",
                date: "Jan 12",
                time: "8:00 AM",
                venue: "Downtown",
                price: "$25.99",
                category: "Sports",
                categoryColor: "yellow",
                rating: 4.7,
                reviews: 318,
                featured: false,
                description: "Challenge yourself in this annual city marathon. The route takes you through scenic landmarks with cheering crowds. Suitable for runners of all levels with 5K, 10K, and full marathon options."
            },
            {
                id: 7,
                title: "Jazz Night at Blue Note",
                date: "Jan 20",
                time: "8:30 PM",
                venue: "Blue Note Jazz Club",
                price: "$45.00",
                category: "Music",
                categoryColor: "indigo",
                rating: 4.9,
                reviews: 173,
                featured: false,
                description: "Enjoy an evening of smooth jazz with performances from acclaimed musicians in an intimate setting. Dinner and drinks available during the show."
            },
            {
                id: 8,
                title: "Sustainable Living Workshop",
                date: "Jan 28",
                time: "2:00 PM",
                venue: "Community Center",
                price: "Free",
                category: "Workshop",
                categoryColor: "green",
                rating: 4.6,
                reviews: 85,
                featured: false,
                description: "Learn practical tips and techniques for reducing your environmental footprint. Topics include zero-waste living, energy conservation, and sustainable food choices."
            },
            {
                id: 9,
                title: "International Food Festival",
                date: "Feb 05",
                time: "12:00 PM",
                venue: "City Square",
                price: "$10.00",
                category: "Food & Drink",
                categoryColor: "red",
                rating: 4.8,
                reviews: 267,
                featured: false,
                description: "Take a culinary journey around the world with food stalls representing over 20 countries. Enjoy cooking demonstrations, cultural performances, and activities for the whole family."
            },
            {
                id: 10,
                title: "Photography Workshop",
                date: "Feb 15",
                time: "3:00 PM",
                venue: "Arts Center",
                price: "$35.00",
                category: "Workshop",
                categoryColor: "green",
                rating: 4.7,
                reviews: 92,
                featured: false,
                description: "Master the art of photography in this hands-on workshop. Learn about composition, lighting, editing and more from professional photographers."
            },
            {
                id: 11,
                title: "Comedy Night Special",
                date: "Feb 25",
                time: "9:00 PM",
                venue: "Laugh Factory",
                price: "$25.00",
                category: "Entertainment",
                categoryColor: "pink",
                rating: 4.8,
                reviews: 205,
                featured: false,
                description: "Enjoy a night of laughter with performances from top comedians. Full bar and food menu available during the show."
            },
            {
                id: 12,
                title: "Weekend Yoga Retreat",
                date: "Mar 10",
                time: "8:00 AM",
                venue: "Wellness Center",
                price: "$120.00",
                category: "Health",
                categoryColor: "teal",
                rating: 4.9,
                reviews: 138,
                featured: false,
                description: "Rejuvenate your mind and body with this weekend yoga retreat. Includes meditation sessions, healthy meals, and nature walks."
            }
        ];

        // Render event card (grid view)
        function renderEventCardGrid(event) {
            return `
                <div class="event-card bg-white dark:bg-dark-card rounded-lg overflow-hidden shadow-sm slide-in-right" data-id="${event.id}" data-category="${event.category.toLowerCase()}" data-venue="${event.venue.toLowerCase()}" data-price="${parseFloat(event.price.replace(/[^0-9.]/g, ''))}">
                    <div class="relative">
                        <div class="h-48 bg-gray-300 dark:bg-gray-700 relative overflow-hidden">
                            <div class="absolute inset-0 flex items-center justify-center">
                                <i class="fas fa-image text-4xl text-gray-400 dark:text-gray-500"></i>
                            </div>
                            
                            ${event.featured ? '<div class="featured-badge shadow-md">Featured</div>' : ''}
                            
                            <div class="absolute top-0 left-0 m-3 flex space-x-2">
                                <span class="text-xs font-medium px-2 py-1 bg-${event.categoryColor}-100 dark:bg-${event.categoryColor}-900 text-${event.categoryColor}-800 dark:text-${event.categoryColor}-200 rounded-full">${event.category}</span>
                            </div>
                            
                            <!-- Favorite button -->
                            <button class="absolute top-3 right-3 w-8 h-8 bg-white dark:bg-dark-bg rounded-full shadow-md flex items-center justify-center text-gray-700 dark:text-gray-300 hover:text-rose-500 transition-colors duration-300 focus:outline-none toggle-favorite ${isFavorite(event.id) ? 'favorite text-rose-500' : ''}" data-id="${event.id}">
                                <i class="fa${isFavorite(event.id) ? 's' : 'r'} fa-heart"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="p-4">
                        <div class="flex justify-between items-start mb-2">
                            <div class="flex flex-col">
                                <div class="bg-primary-50 dark:bg-primary-900 px-3 py-1 rounded text-primary-700 dark:text-primary-300 text-sm font-medium inline-block mb-2">
                                    ${event.date}
                                </div>
                                <h3 class="text-lg font-semibold mb-1 line-clamp-2">${event.title}</h3>
                            </div>
                        </div>
                        
                        <div class="flex items-center text-yellow-500 mb-2">
                            <span class="mr-1">${event.rating}</span>
                            <i class="fas fa-star text-sm"></i>
                            <span class="ml-1 text-gray-500 dark:text-gray-400 text-sm">(${event.reviews})</span>
                        </div>
                        
                        <p class="text-gray-600 dark:text-gray-400 mb-3 flex items-center">
                            <i class="fas fa-map-marker-alt mr-2 text-primary-600 dark:text-primary-400"></i>
                            ${event.venue}
                        </p>
                        
                        <div class="flex items-center text-gray-600 dark:text-gray-400 text-sm mb-4">
                            <i class="fas fa-clock mr-2"></i>
                            ${event.time}
                        </div>
                        
                        <div class="flex justify-between items-center">
                            <div>
                                <p class="text-gray-600 dark:text-gray-400 text-xs">Starting from</p>
                                <p class="font-semibold">${event.price}</p>
                            </div>
                            <button onclick="openEventModal(${event.id})" class="px-4 py-2 bg-primary-600 text-white font-medium rounded-lg shadow-sm hover:bg-primary-700 focus:outline-none transition-colors duration-300 text-sm">
                                Book Now
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        // Render event card (list view)
        function renderEventCardList(event) {
            return `
                <div class="event-card bg-white dark:bg-dark-card rounded-lg overflow-hidden shadow-sm slide-in-right" data-id="${event.id}" data-category="${event.category.toLowerCase()}" data-venue="${event.venue.toLowerCase()}" data-price="${parseFloat(event.price.replace(/[^0-9.]/g, ''))}">
                    <div class="flex flex-col sm:flex-row">
                        <div class="relative sm:w-1/3">
                            <div class="h-48 sm:h-full bg-gray-300 dark:bg-gray-700 relative overflow-hidden">
                                <div class="absolute inset-0 flex items-center justify-center">
                                    <i class="fas fa-image text-4xl text-gray-400 dark:text-gray-500"></i>
                                </div>
                                
                                ${event.featured ? '<div class="featured-badge shadow-md">Featured</div>' : ''}
                                
                                <div class="absolute top-0 left-0 m-3">
                                    <span class="text-xs font-medium px-2 py-1 bg-${event.categoryColor}-100 dark:bg-${event.categoryColor}-900 text-${event.categoryColor}-800 dark:text-${event.categoryColor}-200 rounded-full">${event.category}</span>
                                </div>
                                
                                <!-- Favorite button -->
                                <button class="absolute top-3 right-3 w-8 h-8 bg-white dark:bg-dark-bg rounded-full shadow-md flex items-center justify-center text-gray-700 dark:text-gray-300 hover:text-rose-500 transition-colors duration-300 focus:outline-none toggle-favorite ${isFavorite(event.id) ? 'favorite text-rose-500' : ''}" data-id="${event.id}">
                                    <i class="fa${isFavorite(event.id) ? 's' : 'r'} fa-heart"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="p-4 sm:w-2/3">
                            <div class="flex flex-col sm:flex-row sm:items-start sm:justify-between">
                                <div>
                                    <div class="flex items-center mb-2">
                                        <div class="bg-primary-50 dark:bg-primary-900 px-3 py-1 rounded text-primary-700 dark:text-primary-300 text-sm font-medium inline-block">
                                            ${event.date}
                                        </div>
                                        <div class="ml-3 flex items-center text-yellow-500">
                                            <span class="mr-1">${event.rating}</span>
                                            <i class="fas fa-star text-sm"></i>
                                            <span class="ml-1 text-gray-500 dark:text-gray-400 text-sm">(${event.reviews})</span>
                                        </div>
                                    </div>
                                    
                                    <h3 class="text-xl font-semibold mb-2">${event.title}</h3>
                                    
                                    <p class="text-gray-600 dark:text-gray-400 mb-2 flex items-center">
                                        <i class="fas fa-map-marker-alt mr-2 text-primary-600 dark:text-primary-400"></i>
                                        ${event.venue}
                                    </p>
                                    
                                    <div class="flex items-center text-gray-600 dark:text-gray-400 text-sm mb-4">
                                        <i class="fas fa-clock mr-2"></i>
                                        ${event.time}
                                    </div>
                                    
                                    <p class="text-gray-700 dark:text-gray-300 mb-4 text-sm line-clamp-2">
                                        ${event.description || 'Join us for this amazing event! Experience the excitement and create memories that will last a lifetime.'}
                                    </p>
                                </div>
                            </div>
                            
                            <div class="flex justify-between items-center mt-2">
                                <div>
                                    <p class="text-gray-600 dark:text-gray-400 text-xs">Starting from</p>
                                    <p class="font-semibold">${event.price}</p>
                                </div>
                                <button onclick="openEventModal(${event.id})" class="px-6 py-2 bg-primary-600 text-white font-medium rounded-lg shadow-sm hover:bg-primary-700 focus:outline-none transition-colors duration-300">
                                    Book Now
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // Render event cards based on view type
        function renderEvents(viewType = 'grid') {
            const eventsContainer = $('#events-container');
            const events = getFilteredEvents();
            
            // Clear container
            eventsContainer.innerHTML = '';
            
            // Update counts
            $('#visible-count').textContent = events.length;
            $('#total-count').textContent = mockEvents.length;
            
            // Show/hide no results message
            if (events.length === 0) {
                $('#no-results').classList.remove('hidden');
                eventsContainer.classList.add('hidden');
            } else {
                $('#no-results').classList.add('hidden');
                eventsContainer.classList.remove('hidden');
            }
            
            // Render events
            events.forEach(event => {
                const eventCard = viewType === 'grid' ? renderEventCardGrid(event) : renderEventCardList(event);
                eventsContainer.innerHTML += eventCard;
            });
            
            // Add event listeners to favorite buttons
            $$('.toggle-favorite').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const eventId = btn.getAttribute('data-id');
                    toggleFavorite(eventId, btn);
                });
            });
        }

        // Load events dynamically
        function loadEvents() {
            // Load featured events
            const featuredEvents = mockEvents.filter(event => event.featured);
            const featuredContainer = $('#featured-events-container');
            
            // Remove skeleton loaders
            $$('#featured-events-container .skeleton-card').forEach(skeleton => {
                skeleton.remove();
            });
            
            // Add featured events
            featuredEvents.forEach(event => {
                featuredContainer.innerHTML += renderEventCardGrid(event);
            });
            
            // Load all events
            // First remove skeleton loaders
            $$('#events-container .skeleton-card').forEach(skeleton => {
                skeleton.remove();
            });
            
            // Then render events
            renderEvents('grid');
        }

        // Filter events
        function initFilters() {
            const filterButtons = $$('.filter-btn');
            
            // Add event listeners to filter buttons
            filterButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // Update active button style
                    filterButtons.forEach(btn => {
                        btn.classList.remove('bg-primary-600', 'text-white');
                        btn.classList.add('bg-gray-200', 'dark:bg-dark-card', 'text-gray-700', 'dark:text-gray-300');
                    });
                    
                    button.classList.remove('bg-gray-200', 'dark:bg-dark-card', 'text-gray-700', 'dark:text-gray-300');
                    button.classList.add('bg-primary-600', 'text-white');
                    
                    // Apply filters
                    filterEvents();
                });
            });
            
            // Reset search button functionality
            $('#reset-search').addEventListener('click', () => {
                // Reset category filter
                $('#category-filter').value = 'all';
                
                // Reset location filter
                $('#location-filter').value = 'all';
                
                // Reset price filter
                $('#price-filter').value = 150;
                $('#price-range-display').textContent = '$0 - $150+';
                
                // Reset date picker
                const datePicker = $('#date-picker')._flatpickr;
                datePicker.clear();
                $('#clear-dates').classList.add('hidden');
                
                // Reset search
                $('#search-events').value = '';
                $('#clear-search').classList.add('hidden');
                
                // Reset filters buttons
                filterButtons.forEach(btn => {
                    btn.classList.remove('bg-primary-600', 'text-white');
                    btn.classList.add('bg-gray-200', 'dark:bg-dark-card', 'text-gray-700', 'dark:text-gray-300');
                });
                const allBtn = $('button[data-filter="all"]');
                allBtn.classList.remove('bg-gray-200', 'dark:bg-dark-card', 'text-gray-700', 'dark:text-gray-300');
                allBtn.classList.add('bg-primary-600', 'text-white');
                
                // Apply filters
                filterEvents();
            });
            
            // Initialize sort functionality
            $('#sort-events').addEventListener('change', filterEvents);
        }

        // Get filtered events
        function getFilteredEvents() {
            const searchTerm = $('#search-events').value.toLowerCase();
            const categoryFilter = $('#category-filter').value;
            const locationFilter = $('#location-filter').value;
            const priceFilter = parseInt($('#price-filter').value);
            const dateFilter = $('#date-picker').value;
            const activeFilter = $('.filter-btn.bg-primary-600').getAttribute('data-filter');
            const sortOption = $('#sort-events').value;
            
            // Filter events
            let filteredEvents = mockEvents.filter(event => {
                let shouldShow = true;
                
                // Search term filter
                if (searchTerm) {
                    const eventTitle = event.title.toLowerCase();
                    const eventVenue = event.venue.toLowerCase();
                    const eventCategory = event.category.toLowerCase();
                    const eventDescription = (event.description || '').toLowerCase();
                    
                    shouldShow = eventTitle.includes(searchTerm) || 
                                eventVenue.includes(searchTerm) || 
                                eventCategory.includes(searchTerm) ||
                                eventDescription.includes(searchTerm);
                }
                
                // Category filter
                if (shouldShow && categoryFilter !== 'all') {
                    shouldShow = event.category.toLowerCase() === categoryFilter.toLowerCase();
                }
                
                // Location filter
                if (shouldShow && locationFilter !== 'all') {
                    shouldShow = event.venue.toLowerCase().includes(locationFilter.toLowerCase());
                }
                
                // Price filter
                if (shouldShow && priceFilter < 150) {
                    const eventPrice = parseFloat(event.price.replace(/[^0-9.]/g, '')) || 0;
                    shouldShow = eventPrice <= priceFilter;
                }
                
                // Date filter (simplified for demo)
                if (shouldShow && dateFilter) {
                    // In a real app, you would parse the dates and check if the event is within the range
                    // For the demo, we'll just assume all events match the date range
                }
                
                // Filter buttons (simplified for demo)
                if (shouldShow && activeFilter !== 'all') {
                    if (activeFilter === 'today') {
                        // For demo purposes, assume "today" = Nov 15
                        shouldShow = event.date === 'Nov 15';
                    } else if (activeFilter === 'weekend') {
                        // For demo purposes, assume "weekend" = events on Nov 15-17
                        const day = parseInt(event.date.split(' ')[1]);
                        shouldShow = event.date.includes('Nov') && day >= 15 && day <= 17;
                    } else if (activeFilter === 'month') {
                        // For demo purposes, assume "month" = all of November
                        shouldShow = event.date.includes('Nov');
                    } else if (activeFilter === 'free') {
                        shouldShow = event.price.toLowerCase().includes('free');
                    }
                }
                
                return shouldShow;
            });
            
            // Sort events
            filteredEvents.sort((a, b) => {
                if (sortOption === 'date-asc') {
                    // Sort by date ascending
                    const monthA = a.date.split(' ')[0];
                    const monthB = b.date.split(' ')[0];
                    const dayA = parseInt(a.date.split(' ')[1]);
                    const dayB = parseInt(b.date.split(' ')[1]);
                    
                    // Get month number (simplified)
                    const months = { 'Jan': 1, 'Feb': 2, 'Mar': 3, 'Apr': 4, 'May': 5, 'Jun': 6, 'Jul': 7, 'Aug': 8, 'Sep': 9, 'Oct': 10, 'Nov': 11, 'Dec': 12 };
                    
                    if (months[monthA] === months[monthB]) {
                        return dayA - dayB;
                    }
                    return months[monthA] - months[monthB];
                } else if (sortOption === 'date-desc') {
                    // Sort by date descending
                    const monthA = a.date.split(' ')[0];
                    const monthB = b.date.split(' ')[0];
                    const dayA = parseInt(a.date.split(' ')[1]);
                    const dayB = parseInt(b.date.split(' ')[1]);
                    
                    // Get month number (simplified)
                    const months = { 'Jan': 1, 'Feb': 2, 'Mar': 3, 'Apr': 4, 'May': 5, 'Jun': 6, 'Jul': 7, 'Aug': 8, 'Sep': 9, 'Oct': 10, 'Nov': 11, 'Dec': 12 };
                    
                    if (months[monthA] === months[monthB]) {
                        return dayB - dayA;
                    }
                    return months[monthB] - months[monthA];
                } else if (sortOption === 'price-asc') {
                    // Sort by price ascending
                    const priceA = parseFloat(a.price.replace(/[^0-9.]/g, '')) || 0;
                    const priceB = parseFloat(b.price.replace(/[^0-9.]/g, '')) || 0;
                    return priceA - priceB;
                } else if (sortOption === 'price-desc') {
                    // Sort by price descending
                    const priceA = parseFloat(a.price.replace(/[^0-9.]/g, '')) || 0;
                    const priceB = parseFloat(b.price.replace(/[^0-9.]/g, '')) || 0;
                    return priceB - priceA;
                } else if (sortOption === 'rating-desc') {
                    // Sort by rating descending
                    return b.rating - a.rating;
                }
                
                return 0;
            });
            
            return filteredEvents;
        }

        // Apply filters and update events display
        function filterEvents() {
            // Get the current view type
            const isGridView = $('#grid-view').classList.contains('bg-primary-600');
            
            // Render events with the current view type
            renderEvents(isGridView ? 'grid' : 'list');
        }

        // Infinite scroll
        function initInfiniteScroll() {
            const loadingIndicator = $('#infinite-scroll-loader');
            
            // Show/hide loading indicator based on scroll position
            window.addEventListener('scroll', () => {
                // Check if we're near the bottom of the page
                if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 500) {
                    // Only show if not already visible
                    if (loadingIndicator.classList.contains('hidden')) {
                        loadingIndicator.classList.remove('hidden');
                        
                        // Simulate loading more events
                        setTimeout(() => {
                            loadingIndicator.classList.add('hidden');
                            showNotification('All Events Loaded', 'You have viewed all available events.', 'info');
                        }, 1500);
                    }
                }
            });
        }

        // Initialize everything when DOM is ready
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize dark mode
            initDarkMode();
            
            // Initialize mobile menu
            initMobileMenu();
            
            // Initialize smooth scrolling
            initSmoothScroll();
            
            // Initialize back to top button
            initBackToTop();
            
            // Initialize modals
            initModals();
            
            // Initialize form validation
            initFormValidation();
            
            // Initialize favorites system
            initFavorites();
            
            // Initialize recently viewed system
            initRecentlyViewed();
            
            // Initialize date picker
            initDatePicker();
            
            // Initialize search functionality
            initSearch();
            
            // Initialize advanced filters
            initAdvancedFilters();
            
            // Initialize view toggle
            initViewToggle();
            
            // Initialize filters
            initFilters();
            
            // Initialize infinite scroll
            initInfiniteScroll();
            
            // Load events with a small delay to simulate async fetching
            setTimeout(() => {
                loadEvents();
            }, 800);
        });
    </script>
</body>
</html>
